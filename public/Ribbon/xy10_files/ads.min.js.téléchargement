'use strict';
(function(w, d) {
    
  function importScript(src, isDynamicImportModule) {
      var script = d.createElement('script');
      script.src = src;

      if (isDynamicImportModule) {
        script.type = 'module';
      }

      var node = d.getElementsByTagName('script')[0];
      if (node && node.parentNode) {
          node.parentNode.insertBefore(script, node);
      } else {
          document.body.appendChild(script);
      }
  }
    w.adthrive = w.adthrive || {};
    w.adthrive.cmd = w.adthrive.cmd || [];
    w.adthrive.host = "ads.adthrive.com";
    w.adthrive.threshold = 0;
    w.adthrive.styleUrl = "https://ads.adthrive.com/sites/630428a76245162875c78210/ads.min.css";
    w.adthrive.deployment = "stable";
    w.adthrive.branch = "c65a6b9";
    w.adthrive.bucket = "prod";
    w.adthrive.baseUrl = "https://ads.adthrive.com/builds/core/c65a6b9";
    w.adthrive.deliveryFeatures = ["amazonBetaApstag","consentManagerCMP","optimalBidders","raptiveFloors","raptiveManualCookieSync","recencyFrequency","reissuingSticky","stickyBucketsLocalStorage","switzerlandGdpr","prebidLoad","gptLoad","amazonLoad","ttdSync","optableLoad"];
    w.adthrive.deliveryAudit = [{"include":"clsInsertion","value":true,"reason":["adOptions.clsOptimizatedAds is true"]},{"include":"prebidLoad","value":true,"reason":["adOptions.delayLoading is false"]},{"include":"gptLoad","value":true,"reason":["adOptions.delayLoading is false"]},{"include":"amazonLoad","value":true,"reason":["adOptions.delayLoading is false","adOptions.amazonUAM is true"]},{"include":"dcsllSiteSpecific","value":false,"reason":["Delivery Feature Missing"]},{"include":"prebidBrowserRouting","value":false,"reason":["Delivery Feature Missing"]},{"include":"disableStickyBuckets","value":false,"reason":["Delivery Feature Missing"]},{"include":"ttdSync","value":false,"reason":["GDPR Country Detected"]},{"include":"viewabilityV2","value":false,"reason":["Delivery Feature Missing"]},{"include":"manualCookieSync","value":false,"reason":["Delivery Feature Missing"]},{"include":"campaignByURLHash","value":false,"reason":["Delivery Feature Missing"]},{"include":"switzerlandGdpr","value":true,"reason":["Delivery Feature Enabled"]}];
    w.adthrive.deliveryVersion = "1.112.0";
    w.adthrive.isIOS = /iP(hone|od|ad)/i.test(navigator.userAgent) ? true : false;
    w.adthrive.targetPath = '/es5';
    w.adthrive.sticky = true;
    w.adthrive.stickyBucketsEnabled = true;
    w.adthrive.bucketKeys = ["flex-03&2024-11-26-02:c65a6b9:10:con","hbs-q4&ad-1890:pr9001:hbs-q4:b07cc1f:2:exp","hbs-q4:con&ad-1890:pr9001:hbs-q4:b07cc1f:2:con","beta03&ade-1714:pr5417:beta03:547f62c:100:exp","beta05&ade-1748:pr5517:beta05:4359eb4:100:exp","beta01&ade-1811:pr5662:beta01:7f51883:100:exp","beta02&ada-844:pr5671:beta02:a66f50f:100:exp","beta04&ada-852:pr5696:beta04:6c62dc9:100:exp","beta06&ada-771:pr5508:beta06:ccb125c:50:exp","beta06&ada-771:pr5508:beta06:c65a6b9:50:con","flex-32&2024-11-26-02:acd-721:pr5601:a91b95a:4","flex-04&2024-11-26-02:aco-2353:pr5576:0776508:4","flex-21&2024-11-26-02:acd-558:pr5687:a6bac50:4","flex-41&2024-11-26-02:ada-853:pr5699:78d6dfb:4","flex-54&2024-11-26-02:ada-850:pr5690:6af219d:4","flex-13&2024-11-26-02:aco-2477:pr5717:705e756:4","prod&c65a6b9"];
    w.adthrive.forceGDPR = false;
    w.adthrive.debug = false;
    w.adthrive.country = "FR";
    w.adthrive.region = "HDF";
    
    if ('cookieDeprecationLabel' in navigator) {
      navigator.cookieDeprecationLabel.getValue()
        .then(function(value) {
          w.adthrive.cookieDeprecationLabel = value;
        })
        .catch(function(error) {
          w.adthrive.cmd.push(function () {
            w.adthrive.logError('ads-site-origin-request', 'insertCookieDeprecationLabelCode', ['Unable to set cookie deprecation label.', error]);
          });
        });
    }
  
    
      // Sticky Bucket
      function isValidStickyBucketData(stickyBucket) {
        return (stickyBucket && stickyBucket.bucket && stickyBucket.branch && stickyBucket.deployment && stickyBucket.ttl && stickyBucket.ttl > Date.now() && w.adthrive.bucketKeys && ((w.adthrive.bucketKeys.indexOf(stickyBucket.bucket + '&' + stickyBucket.deployment) > -1) || (stickyBucket.bucket == 'prod' && w.adthrive.bucketKeys.indexOf('prod&' + stickyBucket.branch) > -1)));
      }
      function isMatchingStickyData(stickyBucket) {
        return stickyBucket && w.adthrive.deployment == stickyBucket.deployment && w.adthrive.bucket == stickyBucket.bucket && w.adthrive.branch == stickyBucket.branch;
      }
      function tagNewStickyBucket() {
        var newStickyBucketData = {
          branch: w.adthrive.branch,
          bucket: w.adthrive.bucket,
          deployment: w.adthrive.deployment,
          deliveryFeatures: w.adthrive.deliveryFeatures,
          ttl: Date.now() + (3600 * 1000 * 24),
        };
        if(w.adthrive.deliveryFeatures.indexOf('stickyBucketsLocalStorage') > -1) {
          w.adthrive = w.adthrive || {};
          w.adthrive.cmd = w.adthrive.cmd || [];
          w.adthrive.cmd.push(function() {
            w.adthrive.api.browserStorage.setLocalStorage('at_sticky_data', JSON.stringify(newStickyBucketData))
          });
        } else {
          w.sessionStorage.setItem('at_sticky_data', JSON.stringify(newStickyBucketData));
        }
      }
      var stickyBucketJSON = w.sessionStorage.getItem('at_sticky_data');
      var stickyBucketJSONLocal = w.localStorage.getItem('at_sticky_data');
      if(stickyBucketJSONLocal) {
        stickyBucketJSON = stickyBucketJSONLocal;
      }

      try {
        var stickyBucket = JSON.parse(stickyBucketJSON);
        if (isValidStickyBucketData(stickyBucket)) {
          if (stickyBucket.deliveryFeatures && stickyBucket.deliveryFeatures.indexOf('reissuingSticky') > -1) {
            // check if deployment data in current response matches sticky deployment at_sticky_data
            if (!isMatchingStickyData(stickyBucket)) {
              // we need to reissue ads.min.js with querystring params for sticky deployment info
              // AND we need to return/quit execution of ads.min.js
              var newAdsMinSrc = 'https://' + w.adthrive.host + '/sites/630428a76245162875c78210/ads.min.js?stickyDeployment=' + stickyBucket.deployment + '&stickyBucket=' + stickyBucket.bucket + '&stickyBranch=' + stickyBucket.branch;
              importScript(newAdsMinSrc);
              return;
            }
          } else {
            w.adthrive.branch = stickyBucket.branch;
            w.adthrive.bucket = stickyBucket.bucket;
            w.adthrive.deployment = stickyBucket.deployment;
            w.adthrive.baseUrl = 'https://' + w.adthrive.host + '/builds/core/' + stickyBucket.branch;
          }
        } else {
          tagNewStickyBucket();
        }
      } catch (e) {
        w.adthrive.cmd.push(function () {
          w.adthrive.log = w.adthrive.log || console.log;
          w.adthrive.log('log', 'ads-site-origin-request', 'insertStickyBucketCode', ['Error parsing session storage bucket data']);
        });
        tagNewStickyBucket();
      }

    w.adthrive.siteAds = {"betaTester":false,"siteId":"630428a76245162875c78210","siteName":"Bulbapedia","targeting":[{"value":"630428a76245162875c78210","key":"siteId"},{"value":"630428a70b9ba128753043b5","key":"organizationId"},{"value":"Bulbapedia","key":"siteName"},{"value":"AdThrive Edge","key":"service"},{"value":"on","key":"bidding"},{"value":["Gaming"],"key":"verticals"}],"breakpoints":{"tablet":768,"desktop":1024},"adUnits":[{"sequence":null,"targeting":[{"value":["Below Post"],"key":"location"}],"devices":["tablet","phone"],"name":"Below_Post","sticky":false,"location":"Below Post","dynamic":{"pageSelector":"","spacing":0,"max":0,"lazyMax":99,"enable":true,"lazy":true,"elementSelector":".mw-parser-output .collapsible-block > p, .mw-parser-output .collapsible-block > div, .mw-parser-output .collapsible-block > table, .collapsible-block > ul","skip":1,"classNames":[],"position":"afterend","every":4,"enabled":true},"stickyOverlapSelector":"","adSizes":[[728,90],[336,280],[320,50],[468,60],[250,250],[1,1],[320,100],[300,250],[970,250],[728,250]],"priority":99,"autosize":true},{"sequence":null,"targeting":[{"value":["Below Post"],"key":"location"}],"devices":["desktop"],"name":"Below_Post","sticky":false,"location":"Below Post","dynamic":{"pageSelector":"","spacing":1.2,"max":0,"lazyMax":99,"enable":true,"lazy":true,"elementSelector":".mw-parser-output .collapsible-block > p, .mw-parser-output .collapsible-block > div, .mw-parser-output .collapsible-block > table, .collapsible-block > ul","skip":1,"classNames":[],"position":"afterend","every":1,"enabled":true},"stickyOverlapSelector":"","adSizes":[[728,90],[336,280],[320,50],[468,60],[250,250],[1,1],[320,100],[300,250],[970,250],[728,250]],"priority":99,"autosize":true},{"sequence":null,"targeting":[{"value":["Footer"],"key":"location"},{"value":true,"key":"sticky"}],"devices":["desktop","phone","tablet"],"name":"Footer","sticky":true,"location":"Footer","dynamic":{"pageSelector":"body:not(.rootpage-List_of_censored_words_Generation_V)","spacing":0,"max":1,"lazyMax":null,"enable":true,"lazy":false,"elementSelector":"body","skip":0,"classNames":[],"position":"beforeend","every":1,"enabled":true},"stickyOverlapSelector":"","adSizes":[[320,50],[320,100],[728,90],[970,90],[468,60],[1,1],[300,50]],"priority":-1,"autosize":true},{"sequence":1,"targeting":[{"value":["Sidebar"],"key":"location"},{"value":true,"key":"sticky"}],"devices":["desktop"],"name":"Sidebar_1","sticky":true,"location":"Sidebar","dynamic":{"pageSelector":"","spacing":0,"max":1,"lazyMax":null,"enable":true,"lazy":false,"elementSelector":"#adthrive-left-l","skip":0,"classNames":[],"position":"afterbegin","every":1,"enabled":true},"stickyOverlapSelector":"#footer","adSizes":[[1,1],[160,600],[250,250],[300,50],[300,250],[300,420],[300,600],[320,50],[320,100],[336,280]],"priority":299,"autosize":true},{"sequence":9,"targeting":[{"value":["Sidebar"],"key":"location"},{"value":true,"key":"sticky"}],"devices":["desktop"],"name":"Sidebar_9","sticky":true,"location":"Sidebar","dynamic":{"pageSelector":"","spacing":0,"max":1,"lazyMax":null,"enable":true,"lazy":false,"elementSelector":"#adthrive-right-l","skip":0,"classNames":[],"position":"beforeend","every":1,"enabled":true},"stickyOverlapSelector":"#footer","adSizes":[[1,1],[160,600],[250,250],[300,50],[300,250],[300,420],[300,600],[320,50],[320,100],[336,280]],"priority":291,"autosize":true},{"sequence":2,"targeting":[{"value":["Sidebar"],"key":"location"},{"value":true,"key":"sticky"}],"devices":["desktop"],"name":"Sidebar_2","sticky":true,"location":"Sidebar","dynamic":{"pageSelector":"","spacing":0,"max":2,"lazyMax":null,"enable":true,"lazy":false,"elementSelector":"#adthrive-left-s, #adthrive-right-s","skip":0,"classNames":[],"position":"afterbegin","every":1,"enabled":true},"stickyOverlapSelector":"#footer","adSizes":[[160,600]],"priority":298,"autosize":true},{"sequence":4,"targeting":[{"value":["Sidebar"],"key":"location"},{"value":true,"key":"sticky"}],"devices":["desktop"],"name":"Sidebar_4","sticky":true,"location":"Sidebar","dynamic":{"pageSelector":"","spacing":0,"max":2,"lazyMax":null,"enable":true,"lazy":false,"elementSelector":"#adthrive-left-m, #adthrive-right-m","skip":0,"classNames":[],"position":"afterbegin","every":1,"enabled":true},"stickyOverlapSelector":"#footer","adSizes":[[1,1],[160,600],[250,250],[300,50],[300,250],[300,420],[300,600],[1,2],[120,240],[300,200],[300,300],[300,390]],"priority":296,"autosize":true},{"sequence":9,"targeting":[{"value":["Sidebar"],"key":"location"},{"value":true,"key":"sticky"}],"devices":["desktop"],"name":"Sidebar_9","sticky":true,"location":"Sidebar","dynamic":{"pageSelector":"body:not(.rootpage-List_of_censored_words_Generation_V)","spacing":0,"max":1,"lazyMax":null,"enable":true,"lazy":false,"elementSelector":"#adthrive-right-rect","skip":0,"classNames":[],"position":"beforeend","every":1,"enabled":true},"stickyOverlapSelector":"#footer","adSizes":[[1,1],[160,600],[250,250],[300,50],[300,250],[120,240],[300,200]],"priority":291,"autosize":true},{"sequence":null,"targeting":[{"value":["Content"],"key":"location"}],"devices":["desktop"],"name":"Content","sticky":false,"location":"Content","dynamic":{"pageSelector":"body.rootpage-Main_Page","spacing":0,"max":0,"lazyMax":2,"enable":true,"lazy":true,"elementSelector":"#mw-content-text .mw-parser-output > table, #mw-content-text .mw-parser-output > section > table","skip":1,"classNames":[],"position":"afterend","every":1,"enabled":true},"stickyOverlapSelector":"","adSizes":[[728,90],[336,280],[320,50],[468,60],[970,90],[250,250],[1,1],[320,100],[970,250],[1,2],[300,50],[300,300],[552,334],[728,250],[300,250]],"priority":199,"autosize":true},{"sequence":null,"targeting":[{"value":["Content"],"key":"location"}],"devices":["tablet","phone"],"name":"Content","sticky":false,"location":"Content","dynamic":{"pageSelector":"body.rootpage-Main_Page","spacing":0,"max":0,"lazyMax":2,"enable":true,"lazy":true,"elementSelector":"#mw-content-text .mw-parser-output > table, #mw-content-text .mw-parser-output > section > table","skip":1,"classNames":[],"position":"afterend","every":1,"enabled":true},"stickyOverlapSelector":"","adSizes":[[728,90],[336,280],[320,50],[468,60],[970,90],[250,250],[1,1],[320,100],[970,250],[1,2],[300,50],[300,300],[552,334],[728,250],[300,250]],"priority":199,"autosize":true},{"sequence":null,"targeting":[{"value":["Content"],"key":"location"}],"devices":["desktop"],"name":"Content","sticky":false,"location":"Content","dynamic":{"pageSelector":"body:not(.rootpage-Main_Page)","spacing":0.85,"max":3,"lazyMax":96,"enable":true,"lazy":true,"elementSelector":".mw-parser-output > h2:not(#mw-toc-heading), .mw-parser-output *:not(.toctitle) > h2:not(#mw-toc-heading), \n.mw-parser-output > h3:not(#mw-toc-heading),  .mw-parser-output *:not(.toctitle) > h3:not(#mw-toc-heading), \n.mw-parser-output > h4:not(#mw-toc-heading), .mw-parser-output *:not(.toctitle) > h4:not(#mw-toc-heading)","skip":3,"classNames":[],"position":"beforebegin","every":1,"enabled":true},"stickyOverlapSelector":"","adSizes":[[728,90],[336,280],[320,50],[468,60],[970,90],[250,250],[1,1],[320,100],[970,250],[1,2],[300,50],[300,300],[552,334],[728,250],[300,250]],"priority":199,"autosize":true},{"sequence":null,"targeting":[{"value":["Content"],"key":"location"}],"devices":["tablet","phone"],"name":"Content","sticky":false,"location":"Content","dynamic":{"pageSelector":"body:not(.rootpage-Main_Page)","spacing":0.85,"max":3,"lazyMax":96,"enable":true,"lazy":true,"elementSelector":".mw-parser-output > h2:not(#mw-toc-heading), .mw-parser-output *:not(.toctitle) > h2:not(#mw-toc-heading), \n.mw-parser-output > h3:not(#mw-toc-heading),  .mw-parser-output *:not(.toctitle) > h3:not(#mw-toc-heading), \n.mw-parser-output > h4:not(#mw-toc-heading), .mw-parser-output *:not(.toctitle) > h4:not(#mw-toc-heading)","skip":3,"classNames":[],"position":"beforebegin","every":1,"enabled":true},"stickyOverlapSelector":"","adSizes":[[728,90],[336,280],[320,50],[468,60],[970,90],[250,250],[1,1],[320,100],[970,250],[1,2],[300,50],[300,300],[552,334],[728,250],[300,250]],"priority":199,"autosize":true},{"sequence":null,"targeting":[{"value":["Content"],"key":"location"}],"devices":["desktop","tablet","phone"],"name":"Content","sticky":false,"location":"Content","dynamic":{"pageSelector":"body:not(.rootpage-Main_Page)","spacing":0,"max":0,"lazyMax":1,"enable":true,"lazy":true,"elementSelector":".mw-category-generated > #mw-pages > h2","skip":0,"classNames":[],"position":"beforebegin","every":1,"enabled":true},"stickyOverlapSelector":"","adSizes":[[728,90],[336,280],[320,50],[468,60],[970,90],[250,250],[1,1],[320,100],[970,250],[1,2],[300,50],[300,300],[552,334],[728,250],[300,250]],"priority":199,"autosize":true}],"adDensityLayout":{"mobile":{"adDensity":0.28,"onePerViewport":false},"pageOverrides":[{"mobile":{"adDensity":0.99,"onePerViewport":false},"note":null,"pageSelector":"body.rootpage-Main_Page","desktop":{"adDensity":0.99,"onePerViewport":false}}],"desktop":{"adDensity":0.24,"onePerViewport":true}},"adDensityEnabled":true,"siteExperiments":[],"adTypes":{"sponsorTileDesktop":true,"interscrollerDesktop":true,"nativeDesktopContent":true,"outstreamDesktop":true,"nativeBelowPostDesktop":true,"miniscroller":true,"animatedFooter":true,"largeFormatsMobile":true,"nativeMobileContent":true,"inRecipeRecommendationMobile":true,"nativeMobileRecipe":true,"expandableFooter":true,"nativeDesktopSidebar":true,"sponsorTileMobile":true,"expandableCatalogAdsMobile":false,"interscroller":true,"nativeDesktopRecipe":true,"outstreamMobile":true,"nativeHeaderDesktop":true,"nativeHeaderMobile":true,"nativeBelowPostMobile":true,"expandableCatalogAdsDesktop":false,"largeFormatsDesktop":true,"inRecipeRecommendationDesktop":true},"adOptions":{"theTradeDesk":true,"rtbhouse":true,"undertone":true,"sidebarConfig":{"dynamicStickySidebar":{"minHeight":1800,"enabled":true,"blockedSelectors":[]}},"footerCloseButton":true,"teads":true,"pmp":true,"thirtyThreeAcross":true,"sharethrough":true,"optimizeVideoPlayersForEarnings":true,"removeVideoTitleWrapper":true,"pubMatic":true,"infiniteScroll":false,"yahoossp":false,"improvedigital":true,"spa":false,"stickyContainerConfig":{"recipeDesktop":{"minHeight":null,"enabled":false},"blockedSelectors":[],"stickyHeaderSelectors":[],"content":{"minHeight":null,"enabled":false},"recipeMobile":{"minHeight":null,"enabled":false}},"sonobi":true,"yieldmo":true,"footerSelector":"#footer","amazonUAM":true,"gamMCMEnabled":true,"gamMCMChildNetworkCode":"1027503","stickyContainerAds":false,"rubicon":true,"conversant":true,"openx":true,"customCreativeEnabled":true,"mobileHeaderHeight":1,"secColor":"#000000","unruly":true,"mediaGrid":true,"bRealTime":true,"gumgum":true,"comscoreFooter":true,"desktopInterstitial":false,"footerCloseButtonDesktop":false,"ozone":true,"isAutoOptimized":false,"adform":true,"comscoreTAL":true,"targetaff":false,"bgColor":"#FFFFFF","advancePlaylistOptions":{"playlistPlayer":{"enabled":true},"relatedPlayer":{"applyToFirst":true,"enabled":true}},"amazonASR":false,"kargo":false,"liveRampATS":false,"footerCloseButtonMobile":false,"interstitialBlockedPageSelectors":"","allowSmallerAdSizes":true,"comscore":"General","wakeLock":{"desktopEnabled":true,"mobileValue":15,"mobileEnabled":true,"desktopValue":30},"mobileInterstitial":false,"tripleLift":true,"sensitiveCategories":["alc","ast","cbd","conl","cosm","dat","drg","gamc","gamv","pol","rel","sst","ssr","srh","ske","tob","wtl"],"liveRamp":true,"adthriveEmailIdentity":false,"criteo":true,"nativo":true,"infiniteScrollOptions":{"selector":"","heightThreshold":0},"siteAttributes":{"mobileHeaderSelectors":[],"desktopHeaderSelectors":[]},"dynamicContentSlotLazyLoading":true,"clsOptimizedAds":true,"aidem":false,"verticals":["Gaming"],"inImage":false,"advancePlaylist":true,"flipp":false,"delayLoading":false,"inImageZone":null,"appNexus":true,"rise":true,"liveRampId":"","infiniteScrollRefresh":false,"indexExchange":true},"siteAdsProfiles":[],"videoPlayers":{"contextual":{"autoplayCollapsibleEnabled":false,"defaultPlayerType":"static","overrideEmbedLocation":false},"videoEmbed":"div","footerSelector":"","contentSpecificPlaylists":[],"players":[{"playlistId":"GVPYOwFj","pageSelector":"","devices":["mobile","desktop"],"description":"","skip":0,"title":"Stationary related player - desktop and mobile","type":"stationaryRelated","enabled":true,"formattedType":"Stationary Related","elementSelector":"","id":4080013,"position":"","saveVideoCloseState":false,"shuffle":false,"playerId":"BMffk1V1"},{"playlistId":"GVPYOwFj","pageSelector":"body:not(.rootpage-List_of_censored_words_Generation_V)","devices":["mobile"],"mobileLocation":"top-center","description":"","skip":0,"title":"","type":"stickyPlaylist","enabled":true,"formattedType":"Sticky Playlist","elementSelector":".mw-parser-output > h2:not(#mw-toc-heading), .mw-parser-output *:not(.toctitle) > h2:not(#mw-toc-heading),  .mw-parser-output > h3:not(#mw-toc-heading),  .mw-parser-output *:not(.toctitle) > h3:not(#mw-toc-heading),  .mw-parser-output > h4:not(#mw-toc-heading), .mw-parser-output *:not(.toctitle) > h4:not(#mw-toc-heading)","id":4080011,"position":"beforebegin","saveVideoCloseState":false,"shuffle":false,"mobileHeaderSelector":null,"playerId":"BMffk1V1"},{"playlistId":"GVPYOwFj","pageSelector":"body:not(.rootpage-List_of_censored_words_Generation_V)","devices":["desktop"],"description":"","skip":0,"title":"","type":"stickyPlaylist","enabled":true,"formattedType":"Sticky Playlist","elementSelector":".mw-parser-output > h2:not(#mw-toc-heading), .mw-parser-output *:not(.toctitle) > h2:not(#mw-toc-heading),  .mw-parser-output > h3:not(#mw-toc-heading),  .mw-parser-output *:not(.toctitle) > h3:not(#mw-toc-heading),  .mw-parser-output > h4:not(#mw-toc-heading), .mw-parser-output *:not(.toctitle) > h4:not(#mw-toc-heading)","id":4080012,"position":"beforebegin","saveVideoCloseState":false,"shuffle":false,"mobileHeaderSelector":null,"playerId":"BMffk1V1"}],"partners":{"theTradeDesk":true,"yahoossp":false,"criteo":true,"unruly":true,"mediaGrid":true,"improvedigital":true,"undertone":true,"gumgum":true,"aidem":false,"yieldmo":true,"adform":true,"pmp":true,"amazonUAM":true,"kargo":false,"thirtyThreeAcross":false,"stickyOutstream":{"desktop":{"enabled":true},"blockedPageSelectors":"body.rootpage-List_of_censored_words_Generation_V","mobileLocation":"bottom-left","allowOnHomepage":true,"mobile":{"enabled":true},"saveVideoCloseState":false,"mobileHeaderSelector":null,"allowForPageWithStickyPlayer":{"enabled":true}},"sharethrough":true,"rubicon":true,"appNexus":true,"rise":true,"tripleLift":true,"openx":true,"pubMatic":true,"indexExchange":true}}};

    
    
    
    
    
        var isChildDirectedTreatment = false;
        const metaTagList = document.getElementsByTagName('meta');
        isChildDirectedTreatment = !!Array.from(metaTagList).filter(
          (metaTag) =>
            metaTag.name === 'child-directed-treatment' &&
            metaTag.content === 'true',
        ).length;
      if (!isChildDirectedTreatment) {
          //CMP
         if(!("gdprAppliesGlobally" in window)){window.gdprAppliesGlobally=true}if(!("cmp_id" in window)||window.cmp_id<1){window.cmp_id=0}if(!("cmp_cdid" in window)){window.cmp_cdid="cf7510ba3149d"}if(!("cmp_params" in window)){window.cmp_params=""}if(!("cmp_host" in window)){window.cmp_host="b.delivery.consentmanager.net"}if(!("cmp_cdn" in window)){window.cmp_cdn="cdn.consentmanager.net"}if(!("cmp_proto" in window)){window.cmp_proto="https:"}if(!("cmp_codesrc" in window)){window.cmp_codesrc="1"}window.cmp_getsupportedLangs=function(){var b=["DE","EN","FR","IT","NO","DA","FI","ES","PT","RO","BG","ET","EL","GA","HR","LV","LT","MT","NL","PL","SV","SK","SL","CS","HU","RU","SR","ZH","TR","UK","AR","BS","JA","CY"];if("cmp_customlanguages" in window){for(var a=0;a<window.cmp_customlanguages.length;a++){b.push(window.cmp_customlanguages[a].l.toUpperCase())}}return b};window.cmp_getRTLLangs=function(){var a=["AR"];if("cmp_customlanguages" in window){for(var b=0;b<window.cmp_customlanguages.length;b++){if("r" in window.cmp_customlanguages[b]&&window.cmp_customlanguages[b].r){a.push(window.cmp_customlanguages[b].l)}}}return a};window.cmp_getlang=function(a){if(typeof(a)!="boolean"){a=true}if(a&&typeof(cmp_getlang.usedlang)=="string"&&cmp_getlang.usedlang!==""){return cmp_getlang.usedlang}return window.cmp_getlangs()[0]};window.cmp_extractlang=function(a){if(a.indexOf("cmplang=")!=-1){a=a.substr(a.indexOf("cmplang=")+8,2).toUpperCase();if(a.indexOf("&")!=-1){a=a.substr(0,a.indexOf("&"))}}else{a=""}return a};window.cmp_getlangs=function(){var g=window.cmp_getsupportedLangs();var c=[];var f=location.hash;var e=location.search;var j="cmp_params" in window?window.cmp_params:"";var a="languages" in navigator?navigator.languages:[];if(cmp_extractlang(f)!=""){c.push(cmp_extractlang(f))}else{if(cmp_extractlang(e)!=""){c.push(cmp_extractlang(e))}else{if(cmp_extractlang(j)!=""){c.push(cmp_extractlang(j))}else{if("cmp_setlang" in window&&window.cmp_setlang!=""){c.push(window.cmp_setlang.toUpperCase())}else{if("cmp_langdetect" in window&&window.cmp_langdetect==1){c.push(window.cmp_getPageLang())}else{if(a.length>0){for(var d=0;d<a.length;d++){c.push(a[d])}}if("language" in navigator){c.push(navigator.language)}if("userLanguage" in navigator){c.push(navigator.userLanguage)}}}}}}var h=[];for(var d=0;d<c.length;d++){var b=c[d].toUpperCase();if(b.length<2){continue}if(g.indexOf(b)!=-1){h.push(b)}else{if(b.indexOf("-")!=-1){b=b.substr(0,2)}if(g.indexOf(b)!=-1){h.push(b)}}}if(h.length==0&&typeof(cmp_getlang.defaultlang)=="string"&&cmp_getlang.defaultlang!==""){return[cmp_getlang.defaultlang.toUpperCase()]}else{return h.length>0?h:["EN"]}};window.cmp_getPageLangs=function(){var a=window.cmp_getXMLLang();if(a!=""){a=[a.toUpperCase()]}else{a=[]}a=a.concat(window.cmp_getLangsFromURL());return a.length>0?a:["EN"]};window.cmp_getPageLang=function(){var a=window.cmp_getPageLangs();return a.length>0?a[0]:""};window.cmp_getLangsFromURL=function(){var c=window.cmp_getsupportedLangs();var b=location;var m="toUpperCase";var g=b.hostname[m]()+".";var a=b.pathname[m]()+"/";var f=[];for(var e=0;e<c.length;e++){var j=a.substring(0,c[e].length+1);if(g.substring(0,c[e].length+1)==c[e]+"."){f.push(c[e][m]())}else{if(c[e].length==5){var k=c[e].substring(3,5)+"-"+c[e].substring(0,2);if(g.substring(0,k.length+1)==k+"."){f.push(c[e][m]())}}else{if(j==c[e]+"/"||j=="/"+c[e]){f.push(c[e][m]())}else{if(j==c[e].replace("-","/")+"/"||j=="/"+c[e].replace("-","/")){f.push(c[e][m]())}else{if(c[e].length==5){var k=c[e].substring(3,5)+"-"+c[e].substring(0,2);var h=a.substring(0,k.length+1);if(h==k+"/"||h==k.replace("-","/")+"/"){f.push(c[e][m]())}}}}}}}return f};window.cmp_getXMLLang=function(){var c=document.getElementsByTagName("html");if(c.length>0){var c=c[0]}else{c=document.documentElement}if(c&&c.getAttribute){var a=c.getAttribute("xml:lang");if(typeof(a)!="string"||a==""){a=c.getAttribute("lang")}if(typeof(a)=="string"&&a!=""){var b=window.cmp_getsupportedLangs();return b.indexOf(a.toUpperCase())!=-1||b.indexOf(a.substr(0,2).toUpperCase())!=-1?a:""}else{return""}}};(function(){var C=document;var D=C.getElementsByTagName;var o=window;var t="";var h="";var k="";var E=function(e){var i="cmp_"+e;e="cmp"+e+"=";var d="";var l=e.length;var I=location;var J=I.hash;var w=I.search;var u=J.indexOf(e);var H=w.indexOf(e);if(u!=-1){d=J.substring(u+l,9999)}else{if(H!=-1){d=w.substring(H+l,9999)}else{return i in o&&typeof(o[i])!=="function"?o[i]:""}}var G=d.indexOf("&");if(G!=-1){d=d.substring(0,G)}return d};var j=E("lang");if(j!=""){t=j;k=t}else{if("cmp_getlang" in o){t=o.cmp_getlang().toLowerCase();h=o.cmp_getlangs().slice(0,3).join("_");k=o.cmp_getPageLangs().slice(0,3).join("_");if("cmp_customlanguages" in o){var m=o.cmp_customlanguages;for(var y=0;y<m.length;y++){var a=m[y].l.toLowerCase();if(a==t){t="en"}}}}}var q=("cmp_proto" in o)?o.cmp_proto:"https:";if(q!="http:"&&q!="https:"){q="https:"}var n=("cmp_ref" in o)?o.cmp_ref:location.href;if(n.length>300){n=n.substring(0,300)}var A=function(d){var K=C.createElement("script");K.setAttribute("data-cmp-ab","1");K.type="text/javascript";K.async=true;K.src=d;var J=["body","div","span","script","head"];var w="currentScript";var H="parentElement";var l="appendChild";var I="body";if(C[w]&&C[w][H]){C[w][H][l](K)}else{if(C[I]){C[I][l](K)}else{for(var u=0;u<J.length;u++){var G=D(J[u]);if(G.length>0){G[0][l](K);break}}}}};var b=E("design");var c=E("regulationkey");var z=E("gppkey");var s=E("att");var f=o.encodeURIComponent;var g=false;try{g=C.cookie.length>0}catch(B){g=false}var x=E("darkmode");if(x=="0"){x=0}else{if(x=="1"){x=1}else{try{if("matchMedia" in window&&window.matchMedia){var F=window.matchMedia("(prefers-color-scheme: dark)");if("matches" in F&&F.matches){x=1}}}catch(B){x=0}}}var p=q+"//"+o.cmp_host+"/delivery/cmp.php?";p+=("cmp_id" in o&&o.cmp_id>0?"id="+o.cmp_id:"")+("cmp_cdid" in o?"&cdid="+o.cmp_cdid:"")+"&h="+f(n);p+=(b!=""?"&cmpdesign="+f(b):"")+(c!=""?"&cmpregulationkey="+f(c):"")+(z!=""?"&cmpgppkey="+f(z):"");p+=(s!=""?"&cmpatt="+f(s):"")+("cmp_params" in o?"&"+o.cmp_params:"")+(g?"&__cmpfcc=1":"");p+=(x>0?"&cmpdarkmode=1":"");A(p+"&l="+f(t)+"&ls="+f(h)+"&lp="+f(k)+"&o="+(new Date()).getTime());var r="js";var v=E("debugunminimized")!=""?"":".min";if(E("debugcoverage")=="1"){r="instrumented";v=""}if(E("debugtest")=="1"){r="jstests";v=""}A(q+"//"+o.cmp_cdn+"/delivery/"+r+"/cmp_final"+v+".js")})();window.cmp_rc=function(c,b){var l="";try{l=document.cookie}catch(h){l=""}var j="";var f=0;var g=false;while(l!=""&&f<100){f++;while(l.substr(0,1)==" "){l=l.substr(1,l.length)}var k=l.substring(0,l.indexOf("="));if(l.indexOf(";")!=-1){var m=l.substring(l.indexOf("=")+1,l.indexOf(";"))}else{var m=l.substr(l.indexOf("=")+1,l.length)}if(c==k){j=m;g=true}var d=l.indexOf(";")+1;if(d==0){d=l.length}l=l.substring(d,l.length)}if(!g&&typeof(b)=="string"){j=b}return(j)};window.cmp_stub=function(){var a=arguments;__cmp.a=__cmp.a||[];if(!a.length){return __cmp.a}else{if(a[0]==="ping"){if(a[1]===2){a[2]({gdprApplies:gdprAppliesGlobally,cmpLoaded:false,cmpStatus:"stub",displayStatus:"hidden",apiVersion:"2.2",cmpId:31},true)}else{a[2](false,true)}}else{if(a[0]==="getUSPData"){a[2]({version:1,uspString:window.cmp_rc("__cmpccpausps","1---")},true)}else{if(a[0]==="getTCData"){__cmp.a.push([].slice.apply(a))}else{if(a[0]==="addEventListener"||a[0]==="removeEventListener"){__cmp.a.push([].slice.apply(a))}else{if(a.length==4&&a[3]===false){a[2]({},false)}else{__cmp.a.push([].slice.apply(a))}}}}}}};window.cmp_dsastub=function(){var a=arguments;a[0]="dsa."+a[0];window.cmp_gppstub(a)};window.cmp_gppstub=function(){var c=arguments;__gpp.q=__gpp.q||[];if(!c.length){return __gpp.q}var h=c[0];var g=c.length>1?c[1]:null;var f=c.length>2?c[2]:null;var a=null;var j=false;if(h==="ping"){a=window.cmp_gpp_ping();j=true}else{if(h==="addEventListener"){__gpp.e=__gpp.e||[];if(!("lastId" in __gpp)){__gpp.lastId=0}__gpp.lastId++;var d=__gpp.lastId;__gpp.e.push({id:d,callback:g});a={eventName:"listenerRegistered",listenerId:d,data:true,pingData:window.cmp_gpp_ping()};j=true}else{if(h==="removeEventListener"){__gpp.e=__gpp.e||[];a=false;for(var e=0;e<__gpp.e.length;e++){if(__gpp.e[e].id==f){__gpp.e[e].splice(e,1);a=true;break}}j=true}else{__gpp.q.push([].slice.apply(c))}}}if(a!==null&&typeof(g)==="function"){g(a,j)}};window.cmp_gpp_ping=function(){return{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","7:usnat","8:usca","9:usva","10:usco","11:usut","12:usct"],cmpId:31,sectionList:[],applicableSections:[0],gppString:"",parsedSections:{}}};window.cmp_addFrame=function(b){if(!window.frames[b]){if(document.body){var a=document.createElement("iframe");a.style.cssText="display:none";if("cmp_cdn" in window&&"cmp_ultrablocking" in window&&window.cmp_ultrablocking>0){a.src="//"+window.cmp_cdn+"/delivery/empty.html"}a.name=b;a.setAttribute("title","Intentionally hidden, please ignore");a.setAttribute("role","none");a.setAttribute("tabindex","-1");document.body.appendChild(a)}else{window.setTimeout(window.cmp_addFrame,10,b)}}};window.cmp_msghandler=function(d){var a=typeof d.data==="string";try{var c=a?JSON.parse(d.data):d.data}catch(f){var c=null}if(typeof(c)==="object"&&c!==null&&"__cmpCall" in c){var b=c.__cmpCall;window.__cmp(b.command,b.parameter,function(h,g){var e={__cmpReturn:{returnValue:h,success:g,callId:b.callId}};d.source.postMessage(a?JSON.stringify(e):e,"*")})}if(typeof(c)==="object"&&c!==null&&"__uspapiCall" in c){var b=c.__uspapiCall;window.__uspapi(b.command,b.version,function(h,g){var e={__uspapiReturn:{returnValue:h,success:g,callId:b.callId}};d.source.postMessage(a?JSON.stringify(e):e,"*")})}if(typeof(c)==="object"&&c!==null&&"__tcfapiCall" in c){var b=c.__tcfapiCall;window.__tcfapi(b.command,b.version,function(h,g){var e={__tcfapiReturn:{returnValue:h,success:g,callId:b.callId}};d.source.postMessage(a?JSON.stringify(e):e,"*")},b.parameter)}if(typeof(c)==="object"&&c!==null&&"__gppCall" in c){var b=c.__gppCall;window.__gpp(b.command,function(h,g){var e={__gppReturn:{returnValue:h,success:g,callId:b.callId}};d.source.postMessage(a?JSON.stringify(e):e,"*")},"parameter" in b?b.parameter:null,"version" in b?b.version:1)}if(typeof(c)==="object"&&c!==null&&"__dsaCall" in c){var b=c.__dsaCall;window.__dsa(b.command,function(h,g){var e={__dsaReturn:{returnValue:h,success:g,callId:b.callId}};d.source.postMessage(a?JSON.stringify(e):e,"*")},"parameter" in b?b.parameter:null,"version" in b?b.version:1)}};window.cmp_setStub=function(a){if(!(a in window)||(typeof(window[a])!=="function"&&typeof(window[a])!=="object"&&(typeof(window[a])==="undefined"||window[a]!==null))){window[a]=window.cmp_stub;window[a].msgHandler=window.cmp_msghandler;window.addEventListener("message",window.cmp_msghandler,false)}};window.cmp_setGppStub=function(a){if(!(a in window)||(typeof(window[a])!=="function"&&typeof(window[a])!=="object"&&(typeof(window[a])==="undefined"||window[a]!==null))){window[a]=window.cmp_gppstub;window[a].msgHandler=window.cmp_msghandler;window.addEventListener("message",window.cmp_msghandler,false)}};if(!("cmp_noiframepixel" in window)){window.cmp_addFrame("__cmpLocator")}if((!("cmp_disableusp" in window)||!window.cmp_disableusp)&&!("cmp_noiframepixel" in window)){window.cmp_addFrame("__uspapiLocator")}if((!("cmp_disabletcf" in window)||!window.cmp_disabletcf)&&!("cmp_noiframepixel" in window)){window.cmp_addFrame("__tcfapiLocator")}if((!("cmp_disablegpp" in window)||!window.cmp_disablegpp)&&!("cmp_noiframepixel" in window)){window.cmp_addFrame("__gppLocator")}if((!("cmp_disabledsa" in window)||!window.cmp_disabledsa)&&!("cmp_noiframepixel" in window)){window.cmp_addFrame("__dsaLocator")}window.cmp_setStub("__cmp");if(!("cmp_disabletcf" in window)||!window.cmp_disabletcf){window.cmp_setStub("__tcfapi")}if(!("cmp_disableusp" in window)||!window.cmp_disableusp){window.cmp_setStub("__uspapi")}if(!("cmp_disablegpp" in window)||!window.cmp_disablegpp){window.cmp_setGppStub("__gpp")}if(!("cmp_disabledsa" in window)||!window.cmp_disabledsa){window.cmp_setGppStub("__dsa")};
      }
    
    
      //CLS Insertion
      var cls_site_insertion=function(e){"use strict";var t;window.adthrive.buildDate="2024-11-26",function(e){e.Below_Post_1="Below_Post_1",e.Below_Post="Below_Post",e.Content="Content",e.Content_1="Content_1",e.Content_2="Content_2",e.Content_3="Content_3",e.Content_4="Content_4",e.Content_5="Content_5",e.Content_6="Content_6",e.Content_7="Content_7",e.Content_8="Content_8",e.Content_9="Content_9",e.Recipe="Recipe",e.Recipe_1="Recipe_1",e.Recipe_2="Recipe_2",e.Recipe_3="Recipe_3",e.Recipe_4="Recipe_4",e.Recipe_5="Recipe_5",e.Native_Recipe="Native_Recipe",e.Footer_1="Footer_1",e.Footer="Footer",e.Header_1="Header_1",e.Header_2="Header_2",e.Header="Header",e.Sidebar_1="Sidebar_1",e.Sidebar_2="Sidebar_2",e.Sidebar_3="Sidebar_3",e.Sidebar_4="Sidebar_4",e.Sidebar_5="Sidebar_5",e.Sidebar_9="Sidebar_9",e.Sidebar="Sidebar",e.Interstitial_1="Interstitial_1",e.Interstitial="Interstitial",e.Video_StickyOutstream_1="Video_StickyOutstream_1",e.Video_StickyOutstream="Video_StickyOutstream",e.Video_StickyInstream="Video_StickyInstream",e.Sponsor_Tile="Sponsor_Tile"}(t||(t={}));class i{constructor(e){this.clsOptions=e,this.enabledLocations=[t.Below_Post,t.Content,t.Recipe,t.Sidebar]}}const n=(e,t)=>null==e||e!=e?t:e;function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s.apply(this,arguments)}var o,r,a,l,c,d,h,u,p,m,_,g,y,f,v,S,b,w,C;!function(e){e.amznbid="amznbid",e.amzniid="amzniid",e.amznp="amznp",e.amznsz="amznsz"}(o||(o={})),function(e){e.ThirtyThreeAcross="33across",e.Adform="adform",e.Aidem="aidem",e.AidemServer="aidem_ss",e.AppNexus="appnexus",e.AmazonTAM="amazon",e.AmazonUAM="AmazonUAM",e.AmazonASR="AmazonASR",e.Colossus="colossus",e.ColossusServer="col_ss",e.Conversant="conversant",e.Concert="concert",e.Criteo="criteo",e.CriteoServer="crit_ss",e.GumGum="gumgum",e.ImproveDigital="improvedigital",e.ImproveDigitalServer="improve_ss",e.IndexExchange="ix",e.Kargo="kargo",e.KargoServer="krgo_ss",e.MediaGrid="grid",e.MediaGridVideo="gridvid",e.Nativo="nativo",e.OpenX="openx",e.Ogury="ogury",e.OpenXServer="opnx_ss",e.Ozone="ozone",e.Pubmatic="pubmatic",e.PubmaticServer="pubm_ss",e.ResetDigital="resetdigital",e.Rise="rise",e.Rtbhouse="rtbhouse",e.Rubicon="rubicon",e.RubiconServer="rubi_ss",e.RubiconServerISV="rubiv_ss",e.Seedtag="seedtag",e.Sharethrough="sharethrough",e.Teads="teads",e.Triplelift="triplelift",e.TripleliftServer="tripl_ss",e.TTD="ttd",e.Undertone="undertone",e.UndertoneServer="under_ss",e.Unruly="unruly",e.YahooSSP="yahoossp",e.YahooSSPServer="yah_ss",e.Verizon="verizon",e.Yieldmo="yieldmo",e.Flipp="flipp"}(r||(r={})),function(e){e.Prebid="prebid",e.GAM="gam",e.Amazon="amazon",e.Marmalade="marmalade",e.Floors="floors",e.CMP="cmp",e.Optable="optable",e.OptimalBidder="optimalBidder"}(a||(a={})),function(e){e.cm="cm",e.fbrap="fbrap",e.rapml="rapml"}(l||(l={})),function(e){e.lazy="lazy",e.raptive="raptive",e.refresh="refresh",e.session="session",e.crossDomain="crossdomain",e.highSequence="highsequence",e.lazyBidPool="lazyBidPool"}(c||(c={})),function(e){e.lazy="l",e.raptive="rapml",e.refresh="r",e.session="s",e.crossdomain="c",e.highsequence="hs",e.lazyBidPool="lbp"}(d||(d={})),function(e){e.Version="Version",e.SharingNotice="SharingNotice",e.SaleOptOutNotice="SaleOptOutNotice",e.SharingOptOutNotice="SharingOptOutNotice",e.TargetedAdvertisingOptOutNotice="TargetedAdvertisingOptOutNotice",e.SensitiveDataProcessingOptOutNotice="SensitiveDataProcessingOptOutNotice",e.SensitiveDataLimitUseNotice="SensitiveDataLimitUseNotice",e.SaleOptOut="SaleOptOut",e.SharingOptOut="SharingOptOut",e.TargetedAdvertisingOptOut="TargetedAdvertisingOptOut",e.SensitiveDataProcessing="SensitiveDataProcessing",e.KnownChildSensitiveDataConsents="KnownChildSensitiveDataConsents",e.PersonalDataConsents="PersonalDataConsents",e.MspaCoveredTransaction="MspaCoveredTransaction",e.MspaOptOutOptionMode="MspaOptOutOptionMode",e.MspaServiceProviderMode="MspaServiceProviderMode",e.SubSectionType="SubsectionType",e.Gpc="Gpc"}(h||(h={})),function(e){e[e.NA=0]="NA",e[e.OptedOut=1]="OptedOut",e[e.OptedIn=2]="OptedIn"}(u||(u={})),function(e){e.AdDensity="addensity",e.AdLayout="adlayout",e.FooterCloseButton="footerclose",e.Interstitial="interstitial",e.RemoveVideoTitleWrapper="removevideotitlewrapper",e.StickyOutstream="stickyoutstream",e.StickyOutstreamOnStickyPlayer="sospp",e.VideoAdvancePlaylistRelatedPlayer="videoadvanceplaylistrp",e.MobileStickyPlayerPosition="mspp"}(p||(p={})),function(e){e.Desktop="desktop",e.Mobile="mobile"}(m||(m={})),function(e){e.Video_Collapse_Autoplay_SoundOff="Video_Collapse_Autoplay_SoundOff",e.Video_Individual_Autoplay_SOff="Video_Individual_Autoplay_SOff",e.Video_Coll_SOff_Smartphone="Video_Coll_SOff_Smartphone",e.Video_In_Post_ClicktoPlay_SoundOn="Video_In-Post_ClicktoPlay_SoundOn",e.Video_Collapse_Autoplay_SoundOff_15s="Video_Collapse_Autoplay_SoundOff_15s",e.Video_Individual_Autoplay_SOff_15s="Video_Individual_Autoplay_SOff_15s",e.Video_Coll_SOff_Smartphone_15s="Video_Coll_SOff_Smartphone_15s",e.Video_In_Post_ClicktoPlay_SoundOn_15s="Video_In-Post_ClicktoPlay_SoundOn_15s"}(_||(_={})),function(e){e.vpaidAdPlayError="vpaidAdPlayError",e.adError="adError",e.adLoaded="adLoaded"}(g||(g={})),function(e){e.Float="adthrive-collapse-float",e.Sticky="adthrive-collapse-sticky",e.Mobile="adthrive-collapse-mobile"}(y||(y={})),function(e){e.Small="adthrive-collapse-small",e.Medium="adthrive-collapse-medium"}(f||(f={})),function(e){e.BottomRight="adthrive-collapse-bottom-right"}(v||(v={})),function(e){e[e.Unstarted=0]="Unstarted",e[e.UncollapsedPlay=1]="UncollapsedPlay",e[e.CollapsedPlay=2]="CollapsedPlay",e[e.UserPauseUncollapsed=3]="UserPauseUncollapsed",e[e.UserPauseCollapsed=4]="UserPauseCollapsed",e[e.PausedNotVisible=5]="PausedNotVisible",e[e.Overlapped=6]="Overlapped",e[e.Closed=7]="Closed",e[e.NonLinearAdPlay=8]="NonLinearAdPlay",e[e.NonLinearAdPaused=9]="NonLinearAdPaused",e[e.NonLinearAdOverlapped=10]="NonLinearAdOverlapped",e[e.UserUnPaused=11]="UserUnPaused"}(S||(S={})),function(e){e[e.Play=0]="Play",e[e.UserClick=1]="UserClick",e[e.PageSwitch=2]="PageSwitch",e[e.OutOfView=3]="OutOfView",e[e.InView=4]="InView",e[e.Close=5]="Close",e[e.Overlapping=6]="Overlapping",e[e.OtherVideoPlaying=7]="OtherVideoPlaying"}(b||(b={})),function(e){e.None="none"}(w||(w={})),function(e){e.Default="default",e.AZ_Animals="5daf495ed42c8605cfc74b0b",e.Natashas_Kitchen="55bccc97303edab84afd77e2",e.RecipeTin_Eats="55cb7e3b4bc841bd0c4ea577",e.Sallys_Baking_Recipes="566aefa94856897050ee7303",e.Spend_With_Pennies="541917f5a90318f9194874cf"}(C||(C={}));const A=e=>{const t={};return function(...i){const n=JSON.stringify(i);if(t[n])return t[n];const s=e.apply(this,i);return t[n]=s,s}};const x=new class{info(e,t,...i){this.call(console.info,e,t,...i)}warn(e,t,...i){this.call(console.warn,e,t,...i)}error(e,t,...i){this.call(console.error,e,t,...i),this.sendErrorLogToCommandQueue(e,t,...i)}event(e,t,...i){var n;"debug"===(null==(n=window.adthriveCLS)?void 0:n.bucket)&&this.info(e,t)}sendErrorLogToCommandQueue(e,t,...i){window.adthrive=window.adthrive||{},window.adthrive.cmd=window.adthrive.cmd||[],window.adthrive.cmd.push((()=>{void 0!==window.adthrive.logError&&"function"==typeof window.adthrive.logError&&window.adthrive.logError(e,t,i)}))}call(e,t,i,...n){const s=[`%c${t}::${i} `],o=["color: #999; font-weight: bold;"];n.length>0&&"string"==typeof n[0]&&s.push(n.shift()),o.push(...n);try{Function.prototype.apply.call(e,console,[s.join(""),...o])}catch(e){return void console.error(e)}}},O=e=>{const t=e.offsetHeight,i=e.offsetWidth,n=e.getBoundingClientRect(),s=document.body,o=document.documentElement,r=window.pageYOffset||o.scrollTop||s.scrollTop,a=window.pageXOffset||o.scrollLeft||s.scrollLeft,l=o.clientTop||s.clientTop||0,c=o.clientLeft||s.clientLeft||0,d=Math.round(n.top+r-l),h=Math.round(n.left+a-c);return{top:d,left:h,bottom:d+t,right:h+i,width:i,height:t}},P=e=>{let t={};const i=((e=window.location.search)=>{const t=0===e.indexOf("?")?1:0;return e.slice(t).split("&").reduce(((e,t)=>{const[i,n]=t.split("=");return e.set(i,n),e}),new Map)})().get(e);if(i)try{const n=decodeURIComponent(i).replace(/\+/g,"");t=JSON.parse(n),x.event("ExperimentOverridesUtil","getExperimentOverrides",e,t)}catch(e){}return t},E=A(((e=navigator.userAgent)=>/Windows NT|Macintosh/i.test(e))),k=A((()=>{const e=navigator.userAgent,t=/Tablet|iPad|Playbook|Nook|webOS|Kindle|Android (?!.*Mobile).*Safari|CrOS/i.test(e);return/Mobi|iP(hone|od)|Opera Mini/i.test(e)&&!t})),D=(e,t,i=document)=>{const n=((e=document)=>{const t=e.querySelectorAll("article");if(0===t.length)return null;const i=Array.from(t).reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e));return i&&i.offsetHeight>1.5*window.innerHeight?i:null})(i),s=n?[n]:[],o=[];e.forEach((e=>{const n=Array.from(i.querySelectorAll(e.elementSelector)).slice(0,e.skip);var r;(r=e.elementSelector,r.includes(",")?r.split(","):[r]).forEach((r=>{const a=i.querySelectorAll(r);for(let i=0;i<a.length;i++){const r=a[i];if(t.map.some((({el:e})=>e.isEqualNode(r))))continue;const l=r&&r.parentElement;l&&l!==document.body?s.push(l):s.push(r),-1===n.indexOf(r)&&o.push({dynamicAd:e,element:r})}}))}));const r=((e=document)=>(e===document?document.body:e).getBoundingClientRect().top)(i),a=o.sort(((e,t)=>e.element.getBoundingClientRect().top-r-(t.element.getBoundingClientRect().top-r)));return[s,a]};const I=new class{init(){}constructor(){this.name="StorageHandler",this.disable=!1,this.removeLocalStorageValue=e=>{window.localStorage.removeItem(`adthrive_${e.toLowerCase()}`)},this.getLocalStorageValue=(e,t=!0,i=!0,n,s)=>{if(this.disable)return null;try{const o=t?"adthrive_":"",r=window.localStorage.getItem(`${o}${i?e.toLowerCase():e}`);if(r){const i=JSON.parse(r),o=void 0!==n&&Date.now()-i.created>=n;if(i&&!o)return s&&this.setLocalStorageValue(e,i.value,t),i.value}}catch(e){}return null},this.setLocalStorageValue=(e,t,i=!0)=>{try{const n=i?"adthrive_":"",s={value:t,created:Date.now()};window.localStorage.setItem(`${n}${e.toLowerCase()}`,JSON.stringify(s))}catch(e){}},this.getOrSetLocalStorageValue=(e,t,i,n=!0,s=!0,o,r=!0)=>{const a=this.getLocalStorageValue(e,r,n,i,s);if(null!==a)return a;const l=t();return this.setLocalStorageValue(e,l,r),o&&o(l),l}}},R=(e,t,i)=>{switch(t){case p.AdDensity:return((e,t)=>{const i=e.adDensityEnabled,n=e.adDensityLayout.pageOverrides.find((e=>!!document.querySelector(e.pageSelector)&&(e[t].onePerViewport||"number"==typeof e[t].adDensity)));return!i||!n})(e,i);case p.StickyOutstream:return(e=>{var t,i,n;const s=null==(n=e.videoPlayers)||null==(i=n.partners)||null==(t=i.stickyOutstream)?void 0:t.blockedPageSelectors;return!s||!document.querySelector(s)})(e);case p.Interstitial:return(e=>{const t=e.adOptions.interstitialBlockedPageSelectors;return!t||!document.querySelector(t)})(e);default:return!0}},M=e=>{const t=window.location.href;return e.some((e=>new RegExp(e,"i").test(t)))},L=e=>{try{return{valid:!0,elements:document.querySelectorAll(e)}}catch(e){return s({valid:!1},e)}},T=e=>""===e?{valid:!0}:L(e),V=(e,t)=>{if(!e)return!1;const i=!!e.enabled,n=null==e.dateStart||Date.now()>=e.dateStart,s=null==e.dateEnd||Date.now()<=e.dateEnd,o=null===e.selector||""!==e.selector&&!!document.querySelector(e.selector),r="mobile"===e.platform&&"mobile"===t,a="desktop"===e.platform&&"desktop"===t,l=null===e.platform||"all"===e.platform||r||a,c="bernoulliTrial"===e.experimentType?1===e.variants.length:(e=>{const t=e.reduce(((e,t)=>t.weight?t.weight+e:e),0);return e.length>0&&e.every((e=>{const t=e.value,i=e.weight;return!(null==t||"number"==typeof t&&isNaN(t)||!i)}))&&100===t})(e.variants);return c||x.error("SiteTest","validateSiteExperiment","experiment presented invalid choices for key:",e.key,e.variants),i&&n&&s&&o&&l&&c},j=["siteId","siteName","adOptions","breakpoints","adUnits"];window.adthrive.windowPerformance=window.adthrive.windowPerformance||new class{resetTimeOrigin(){this._timeOrigin=window.performance.now()}now(){try{return Math.round(window.performance.now()-this._timeOrigin)}catch(e){return 0}}constructor(){this._timeOrigin=0}};const N=window.adthrive.windowPerformance,H=N.now.bind(N);class F{static getScrollTop(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)}static getScrollBottom(){return this.getScrollTop()+(document.documentElement.clientHeight||0)}static shufflePlaylist(e){let t,i,n=e.length;for(;0!==n;)i=Math.floor(Math.random()*e.length),n-=1,t=e[n],e[n]=e[i],e[i]=t;return e}static isMobileLandscape(){return window.matchMedia("(orientation: landscape) and (max-height: 480px)").matches}static playerViewable(e){const t=e.getBoundingClientRect();return this.isMobileLandscape()?window.innerHeight>t.top+t.height/2&&t.top+t.height/2>0:window.innerHeight>t.top+t.height/2}static createQueryString(e){return Object.keys(e).map((t=>`${t}=${e[t]}`)).join("&")}static createEncodedQueryString(e){return Object.keys(e).map((t=>`${t}=${encodeURIComponent(e[t])}`)).join("&")}static setMobileLocation(e){return"top-left"===(e=e||"bottom-right")?e="adthrive-collapse-top-left":"top-right"===e?e="adthrive-collapse-top-right":"bottom-left"===e?e="adthrive-collapse-bottom-left":"bottom-right"===e?e="adthrive-collapse-bottom-right":"top-center"===e&&(e=k()?"adthrive-collapse-top-center":"adthrive-collapse-bottom-right"),e}static addMaxResolutionQueryParam(e){const t=`max_resolution=${k()?"320":"1280"}`,[i,n]=String(e).split("?");return`${i}?${n?n+`&${t}`:t}`}}class z{constructor(e){this._clsOptions=e,this.removeVideoTitleWrapper=n(this._clsOptions.siteAds.adOptions.removeVideoTitleWrapper,!1);const t=this._clsOptions.siteAds.videoPlayers;this.footerSelector=n(t&&t.footerSelector,""),this.players=n(t&&t.players.map((e=>(e.mobileLocation=F.setMobileLocation(e.mobileLocation),e))),[]),this.relatedSettings=t&&t.contextual}}class G{constructor(e){this.mobileStickyPlayerOnPage=!1,this.playlistPlayerAdded=!1,this.relatedPlayerAdded=!1,this.footerSelector="",this.removeVideoTitleWrapper=!1,this.videoAdOptions=new z(e),this.players=this.videoAdOptions.players,this.relatedSettings=this.videoAdOptions.relatedSettings,this.removeVideoTitleWrapper=this.videoAdOptions.removeVideoTitleWrapper,this.footerSelector=this.videoAdOptions.footerSelector}}class B{checkCommandQueue(){this.adthrive&&this.adthrive.cmd&&this.adthrive.cmd.forEach((e=>{const t=e.toString(),i=this.extractAPICall(t,"disableAds");i&&this.disableAllAds(this.extractPatterns(i));const n=this.extractAPICall(t,"disableContentAds");n&&this.disableContentAds(this.extractPatterns(n));const s=this.extractAPICall(t,"disablePlaylistPlayers");s&&this.disablePlaylistPlayers(this.extractPatterns(s))}))}extractPatterns(e){const t=e.match(/["'](.*?)['"]/g);if(null!==t)return t.map((e=>e.replace(/["']/g,"")))}extractAPICall(e,t){const i=new RegExp(t+"\\((.*?)\\)","g"),n=e.match(i);return null!==n&&n[0]}disableAllAds(e){e&&!M(e)||(this.all=!0,this.reasons.add("all_page"))}disableContentAds(e){e&&!M(e)||(this.content=!0,this.recipe=!0,this.locations.add(t.Content),this.locations.add(t.Recipe),this.reasons.add("content_plugin"))}disablePlaylistPlayers(e){e&&!M(e)||(this.video=!0,this.locations.add("Video"),this.reasons.add("video_page"))}urlHasEmail(e){if(!e)return!1;return null!==/([A-Z0-9._%+-]+(@|%(25)*40)[A-Z0-9.-]+\.[A-Z]{2,})/i.exec(e)}constructor(e){this.adthrive=e,this.all=!1,this.content=!1,this.recipe=!1,this.video=!1,this.locations=new Set,this.reasons=new Set,(this.urlHasEmail(window.location.href)||this.urlHasEmail(window.document.referrer))&&(this.all=!0,this.reasons.add("all_email"));try{this.checkCommandQueue(),null!==document.querySelector(".tag-novideo")&&(this.video=!0,this.locations.add("Video"),this.reasons.add("video_tag"))}catch(e){x.error("ClsDisableAds","checkCommandQueue",e)}}}const U=window.adthriveCLS;U&&(U.disableAds=new B(window.adthrive));class W{}class q extends W{get(){if(this._probability<0||this._probability>1)throw new Error(`Invalid probability: ${this._probability}`);return Math.random()<this._probability}constructor(e){super(),this._probability=e}}class Q{get siteFeatureRollouts(){return this._featureRollouts}isRolloutEnabled(e){return!(!this._featureRollouts||!this._featureRollouts[e])&&this._featureRollouts[e].enabled}getSiteRolloutConfig(e){var t;return this.isRolloutEnabled(e)&&null!=(t=this._featureRollouts[e].data)?t:{}}get enabledFeatureRolloutIds(){return this._enabledFeatureRolloutIds}constructor(){this._featureRollouts={},this._checkedFeatureRollouts=new Map,this._enabledFeatureRolloutIds=[]}}class K extends Q{constructor(e){super(),this._featureRollouts=e.enabled&&e.siteAds.featureRollouts||{}}}class J{get enabled(){return!!this._clsGlobalData&&!!this._clsGlobalData.siteAds&&((e,t=j)=>{if(!e)return!1;for(let i=0;i<t.length;i++)if(!e[t[i]])return!1;return!0})(this._clsGlobalData.siteAds)}get error(){return!(!this._clsGlobalData||!this._clsGlobalData.error)}set siteAds(e){this._clsGlobalData.siteAds=e}get siteAds(){return this._clsGlobalData.siteAds}set disableAds(e){this._clsGlobalData.disableAds=e}get disableAds(){return this._clsGlobalData.disableAds}set enabledLocations(e){this._clsGlobalData.enabledLocations=e}get enabledLocations(){return this._clsGlobalData.enabledLocations}get injectedFromPlugin(){return this._clsGlobalData.injectedFromPlugin}set injectedFromPlugin(e){this._clsGlobalData.injectedFromPlugin=e}get injectedFromSiteAds(){return this._clsGlobalData.injectedFromSiteAds}set injectedFromSiteAds(e){this._clsGlobalData.injectedFromSiteAds=e}overwriteInjectedSlots(e){this._clsGlobalData.injectedSlots=e}setInjectedSlots(e){this._clsGlobalData.injectedSlots=this._clsGlobalData.injectedSlots||[],this._clsGlobalData.injectedSlots.push(e)}get injectedSlots(){return this._clsGlobalData.injectedSlots}setInjectedVideoSlots(e){this._clsGlobalData.injectedVideoSlots=this._clsGlobalData.injectedVideoSlots||[],this._clsGlobalData.injectedVideoSlots.push(e)}get injectedVideoSlots(){return this._clsGlobalData.injectedVideoSlots}setInjectedScripts(e){this._clsGlobalData.injectedScripts=this._clsGlobalData.injectedScripts||[],this._clsGlobalData.injectedScripts.push(e)}get getInjectedScripts(){return this._clsGlobalData.injectedScripts}setExperiment(e,t,i=!1){this._clsGlobalData.experiments=this._clsGlobalData.experiments||{},this._clsGlobalData.siteExperiments=this._clsGlobalData.siteExperiments||{};(i?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments)[e]=t}getExperiment(e,t=!1){const i=t?this._clsGlobalData.siteExperiments:this._clsGlobalData.experiments;return i&&i[e]}setWeightedChoiceExperiment(e,t,i=!1){this._clsGlobalData.experimentsWeightedChoice=this._clsGlobalData.experimentsWeightedChoice||{},this._clsGlobalData.siteExperimentsWeightedChoice=this._clsGlobalData.siteExperimentsWeightedChoice||{};(i?this._clsGlobalData.siteExperimentsWeightedChoice:this._clsGlobalData.experimentsWeightedChoice)[e]=t}getWeightedChoiceExperiment(e,t=!1){var i,n;const s=t?null==(i=this._clsGlobalData)?void 0:i.siteExperimentsWeightedChoice:null==(n=this._clsGlobalData)?void 0:n.experimentsWeightedChoice;return s&&s[e]}get branch(){return this._clsGlobalData.branch}get bucket(){return this._clsGlobalData.bucket}set videoDisabledFromPlugin(e){this._clsGlobalData.videoDisabledFromPlugin=e}get videoDisabledFromPlugin(){return this._clsGlobalData.videoDisabledFromPlugin}set targetDensityLog(e){this._clsGlobalData.targetDensityLog=e}get targetDensityLog(){return this._clsGlobalData.targetDensityLog}shouldHalveIOSDensity(){const e=new K(this);return((e=navigator.userAgent)=>/iP(hone|od|ad)/i.test(e))()&&e.isRolloutEnabled("iOS-Resolution")}getTargetDensity(e){return this.shouldHalveIOSDensity()?e/2:e}get removeVideoTitleWrapper(){return this._clsGlobalData.siteAds.adOptions.removeVideoTitleWrapper}constructor(){this._clsGlobalData=window.adthriveCLS}}class Y{setExperimentKey(e=!1){this._clsOptions.setExperiment(this.abgroup,this.result,e)}constructor(){this._clsOptions=new J,this.shouldUseCoreExperimentsConfig=!1}}class Z extends Y{get result(){return this._result}run(){return new q(.1).get()}constructor(){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="RemoveLargeSize",this.abgroup="smhd100",this._result=this.run(),this.setExperimentKey()}}function X(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r}function ee(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}"function"==typeof SuppressedError&&SuppressedError;const te=(e,t,i,n,s,o)=>{const r=Math.round(o-s),a=[],l=[];a.push("(",i.map((()=>"%o")).join(", "),")"),l.push(...i),void 0!==n&&(a.push(" => %o"),l.push(n)),a.push(` %c(${r}ms)`),l.push("color: #999;")},ie=(e,t,i)=>{const n=void 0!==i.get?i.get:i.value;return function(...i){try{const s=H(),o=n.apply(this,i);if(o instanceof Promise)return o.then((e=>{const t=H();return te(0,0,i,e,s,t),Promise.resolve(e)})).catch((i=>{throw i.logged||(x.error(e,t,i),i.logged=!0),i}));{const e=H();return te(0,0,i,o,s,e),o}}catch(i){throw i.logged||(x.error(e,t,i),i.logged=!0),i}}},ne=(e,t=!1)=>i=>{const n=Object.getOwnPropertyNames(i.prototype).filter((e=>t||0!==e.indexOf("_"))).map((e=>[e,Object.getOwnPropertyDescriptor(i.prototype,e)]));for(const[t,o]of n)void 0!==o&&"function"==typeof o.value?i.prototype[t]=ie(e,t,o):void 0!==o&&void 0!==o.get&&"function"==typeof o.get&&Object.defineProperty(i.prototype,t,s({},o,{get:ie(e,t,o)}))};class se extends Y{get result(){return this._result}run(){return new q(this.weight).get()}constructor(e){super(),this._result=!1,this.key="ParallaxAdsExperiment",this.abgroup="parallax",this._choices=[{choice:!0},{choice:!1}],this.weight=.5;!!k()&&e.largeFormatsMobile&&(this._result=this.run(),this.setExperimentKey())}}se=X([ne("ParallaxAdsExperiment"),ee("design:type",Function),ee("design:paramtypes",["undefined"==typeof AdTypes?Object:AdTypes])],se);class oe extends Y{get result(){return this._result}run(){return new q(1).get()}constructor(){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="mrsf",this.abgroup="mrsf",k()&&(this._result=this.run(),this.setExperimentKey())}}const re=[[728,90],[300,250],[300,600],[320,50],[970,250],[160,600],[300,1050],[336,280],[970,90],[300,50],[320,100],[468,60],[250,250],[120,240],[1,1],[300,300],[552,334],[300,420],[728,250],[320,300],[300,390]],ae=[[300,600],[160,600]],le=new Map([[t.Footer,1],[t.Header,2],[t.Sidebar,3],[t.Content,4],[t.Recipe,5],["Sidebar_sticky",6],["Below Post",7]]),ce=(e,i)=>{const{location:n,sticky:s}=e;if(n===t.Recipe&&i){const{recipeMobile:e,recipeDesktop:t}=i;if(k()&&(null==e?void 0:e.enabled))return!0;if(!k()&&(null==t?void 0:t.enabled))return!0}return n===t.Footer||s},de=(e,i)=>{const s=i.adUnits,o=(e=>!!e.adTypes&&new se(e.adTypes).result)(i),r=new Z,a=new oe;return s.filter((e=>void 0!==e.dynamic&&e.dynamic.enabled)).map((s=>{const l=s.location.replace(/\s+/g,"_"),c="Sidebar"===l?0:2;return{auctionPriority:le.get(l)||8,location:l,sequence:n(s.sequence,1),sizes:(d=s.adSizes,re.filter((([e,t])=>d.some((([i,n])=>e===i&&t===n))))).filter((i=>((e,[i,n],s,o,r)=>{const{location:a,sequence:l}=e;if(a===t.Footer)return!("phone"===s&&320===i&&100===n);if(a===t.Header)return!(n>100&&o.result);if(a===t.Recipe)return!(r.result&&"phone"===s&&(300===i&&390===n||320===i&&300===n));if(a===t.Sidebar){const t=e.adSizes.some((([,e])=>e<=300)),i=n>300;return!(!i||t)||9===l||(l&&l<=5?!i||e.sticky:!i)}return!0})(s,i,e,r,a))).concat(o&&s.location===t.Content?ae:[]),devices:s.devices,pageSelector:n(s.dynamic.pageSelector,"").trim(),elementSelector:n(s.dynamic.elementSelector,"").trim(),position:n(s.dynamic.position,"beforebegin"),max:Math.floor(n(s.dynamic.max,0)),spacing:n(s.dynamic.spacing,0),skip:Math.floor(n(s.dynamic.skip,0)),every:Math.max(Math.floor(n(s.dynamic.every,1)),1),classNames:s.dynamic.classNames||[],sticky:ce(s,i.adOptions.stickyContainerConfig),stickyOverlapSelector:n(s.stickyOverlapSelector,"").trim(),autosize:s.autosize,special:n(s.targeting,[]).filter((e=>"special"===e.key)).reduce(((e,t)=>e.concat(...t.value)),[]),lazy:n(s.dynamic.lazy,!1),lazyMax:n(s.dynamic.lazyMax,c),lazyMaxDefaulted:0!==s.dynamic.lazyMax&&!s.dynamic.lazyMax,name:s.name};var d}))},he=(e,i)=>{const n=(e=>{let t=e.clientWidth;if(getComputedStyle){const i=getComputedStyle(e,null);t-=parseFloat(i.paddingLeft||"0")+parseFloat(i.paddingRight||"0")}return t})(i),s=e.sticky&&e.location===t.Sidebar;return e.sizes.filter((t=>{const i=!e.autosize||(t[0]<=n||t[0]<=320),o=!s||t[1]<=window.innerHeight-100;return i&&o}))},ue=e=>`adthrive-${e.location.replace("_","-").toLowerCase()}`,pe=e=>`${ue(e)}-${e.sequence}`;function me(e,t){void 0===t&&(t={});var i=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===i&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}const _e=e=>e.some((e=>null!==document.querySelector(e)));class ge extends Y{get result(){return this._result}run(){return new q(1).get()}constructor(){super(),this._result=!1,this._choices=[{choice:!0},{choice:!1}],this.key="RemoveRecipeCap",this.abgroup="rrc",this._result=this.run(),this.setExperimentKey()}}class ye extends W{static fromArray(e,t){return new ye(e.map((([e,t])=>({choice:e,weight:t}))),t)}addChoice(e,t){this._choices.push({choice:e,weight:t})}get(){const e=(t=0,i=100,Math.random()*(i-t)+t);var t,i;let n=0;for(const{choice:t,weight:i}of this._choices)if(n+=i,n>=e)return t;return this._default}get totalWeight(){return this._choices.reduce(((e,{weight:t})=>e+t),0)}constructor(e=[],t){super(),this._choices=e,this._default=t}}class fe{}const ve=["mcmpfreqrec"];const Se=new class extends fe{init(e){this._gdpr="true"===e.gdpr,this._shouldQueue=this._gdpr}clearQueue(e){e&&(this._shouldQueue=!1,this._sessionStorageHandlerQueue.forEach((e=>{this.setSessionStorage(e.key,e.value)})),this._localStorageHandlerQueue.forEach((e=>{if("adthrive_abgroup"===e.key){const t=Object.keys(e.value)[0],i=e.value[t],n=e.value[`${t}_weight`];we(t,i,n,{value:24,unit:"hours"})}else e.expiry?"internal"===e.type?this.setExpirableInternalLocalStorage(e.key,e.value,{expiry:e.expiry,resetOnRead:e.resetOnRead}):this.setExpirableExternalLocalStorage(e.key,e.value,{expiry:e.expiry,resetOnRead:e.resetOnRead}):"internal"===e.type?this.setInternalLocalStorage(e.key,e.value):this.setExternalLocalStorage(e.key,e.value)})),this._cookieHandlerQueue.forEach((e=>{"internal"===e.type?this.setInternalCookie(e.key,e.value):this.setExternalCookie(e.key,e.value)}))),this._sessionStorageHandlerQueue=[],this._localStorageHandlerQueue=[],this._cookieHandlerQueue=[]}readInternalCookie(e){return this._verifyInternalKey(e),this._readCookie(e)}readExternalCookie(e){return this._readCookie(e)}readInternalLocalStorage(e){return this._verifyInternalKey(e),this._readFromLocalStorage(e)}readExternalLocalStorage(e){return this._readFromLocalStorage(e)}readSessionStorage(e){const t=window.sessionStorage.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(e){return t}}deleteCookie(e){document.cookie=`${e}=; SameSite=None; Secure; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/`}deleteLocalStorage(e){window.localStorage.removeItem(e)}deleteSessionStorage(e){window.sessionStorage.removeItem(e)}setInternalCookie(e,t,i){this._verifyInternalKey(e),this._setCookieValue("internal",e,t,i)}setExternalCookie(e,t,i){this._setCookieValue("external",e,t,i)}setInternalLocalStorage(e,t){if(this._verifyInternalKey(e),this._gdpr&&this._shouldQueue){const i={key:e,value:t,type:"internal"};this._localStorageHandlerQueue.push(i)}else{const i="string"==typeof t?t:JSON.stringify(t);window.localStorage.setItem(e,i)}}setExternalLocalStorage(e,t){if(this._gdpr&&this._shouldQueue){const i={key:e,value:t,type:"external"};this._localStorageHandlerQueue.push(i)}else{const i="string"==typeof t?t:JSON.stringify(t);window.localStorage.setItem(e,i)}}setExpirableInternalLocalStorage(e,t,i){this._verifyInternalKey(e);try{var n;const o=null!=(n=null==i?void 0:i.expiry)?n:{value:400,unit:"days"};var s;const r=null!=(s=null==i?void 0:i.resetOnRead)&&s;if(this._gdpr&&this._shouldQueue){const i={key:e,value:t,type:"internal",expires:this._getExpiryDate(o),expiry:o,resetOnRead:r};this._localStorageHandlerQueue.push(i)}else{const i={value:t,type:"internal",expires:this._getExpiryDate(o),expiry:o,resetOnRead:r};window.localStorage.setItem(e,JSON.stringify(i))}}catch(e){console.error(e)}}setExpirableExternalLocalStorage(e,t,i){try{var n;const o=null!=(n=null==i?void 0:i.expiry)?n:{value:400,unit:"days"};var s;const r=null!=(s=null==i?void 0:i.resetOnRead)&&s;if(this._gdpr&&this._shouldQueue){const i={key:e,value:JSON.stringify(t),type:"external",expires:this._getExpiryDate(o),expiry:o,resetOnRead:r};this._localStorageHandlerQueue.push(i)}else{const i={value:t,type:"external",expires:this._getExpiryDate(o),expiry:o,resetOnRead:r};window.localStorage.setItem(e,JSON.stringify(i))}}catch(e){console.error(e)}}setSessionStorage(e,t){if(this._gdpr&&this._shouldQueue){const i={key:e,value:t};this._sessionStorageHandlerQueue.push(i)}else{const i="string"==typeof t?t:JSON.stringify(t);window.sessionStorage.setItem(e,i)}}_getExpiryDate({value:e,unit:t}){const i=new Date;return"milliseconds"===t?i.setTime(i.getTime()+e):"seconds"==t?i.setTime(i.getTime()+1e3*e):"minutes"===t?i.setTime(i.getTime()+60*e*1e3):"hours"===t?i.setTime(i.getTime()+60*e*60*1e3):"days"===t?i.setTime(i.getTime()+24*e*60*60*1e3):"months"===t&&i.setTime(i.getTime()+30*e*24*60*60*1e3),i.toUTCString()}_resetExpiry(e){return e.expires=this._getExpiryDate(e.expiry),e}_readCookie(e){const t=document.cookie.split("; ").find((t=>t.split("=")[0]===e));if(!t)return null;const i=t.split("=")[1];if(i)try{return JSON.parse(decodeURIComponent(i))}catch(e){return decodeURIComponent(i)}return null}_readFromLocalStorage(e){const t=window.localStorage.getItem(e);if(!t)return null;try{const n=JSON.parse(t),s=n.expires&&(new Date).getTime()>new Date(n.expires).getTime();if(n.resetOnRead&&n.expires&&!s){const t=this._resetExpiry(n);var i;return window.localStorage.setItem(e,JSON.stringify(n)),null!=(i=t.value)?i:t}if(s)return window.localStorage.removeItem(e),null;if(!n.value)return n;try{return JSON.parse(n.value)}catch(e){return n.value}}catch(e){return t}}_setCookieValue(e,t,i,n){try{if(this._gdpr&&this._shouldQueue){const n={key:t,value:i,type:e};this._cookieHandlerQueue.push(n)}else{var s;const e=this._getExpiryDate(null!=(s=null==n?void 0:n.expiry)?s:{value:400,unit:"days"});var o;const a=null!=(o=null==n?void 0:n.sameSite)?o:"None";var r;const l=null==(r=null==n?void 0:n.secure)||r,c="object"==typeof i?JSON.stringify(i):i;document.cookie=`${t}=${c}; SameSite=${a}; ${l?"Secure;":""} expires=${e}; path=/`}}catch(e){}}_verifyInternalKey(e){const t=e.startsWith("adthrive_"),i=e.startsWith("adt_");if(!t&&!i&&!ve.includes(e))throw new Error('When reading an internal cookie, the key must start with "adthrive_" or "adt_" or be part of the allowed legacy keys.')}constructor(...e){super(...e),this.name="BrowserStorage",this.disable=!1,this.gdprPurposes=[1],this._sessionStorageHandlerQueue=[],this._localStorageHandlerQueue=[],this._cookieHandlerQueue=[],this._shouldQueue=!1}},be=e=>null!=e&&!("number"==typeof e&&isNaN(e)),we=(e,t,i,n,o=!0)=>{const r="adthrive_abgroup",a=Se.readInternalLocalStorage(r);if(null!==a){const t=a[e];var l;const i=null!=(l=a[`${e}_weight`])?l:null;if(be(t))return[t,i]}const c=s({},a,{[e]:t,[`${e}_weight`]:i});return n?Se.setExpirableInternalLocalStorage(r,c,{expiry:n,resetOnRead:o}):Se.setInternalLocalStorage(r,c),[t,i]},Ce=()=>(e,t,i)=>{const n=i.value;n&&(i.value=function(...e){const t=(e=>{if(null===e)return null;const t=e.map((({choice:e})=>e));return(e=>{let t=5381,i=e.length;for(;i;)t=33*t^e.charCodeAt(--i);return t>>>0})(JSON.stringify(t)).toString(16)})(this._choices),i=this._expConfigABGroup?this._expConfigABGroup:this.abgroup,s=i?i.toLowerCase():this.key?this.key.toLowerCase():"",o=t?`${s}_${t}`:s,r=this.localStoragePrefix?`${this.localStoragePrefix}-${o}`:o,a=I.getLocalStorageValue("branch");!1===(a&&a.enabled)&&I.removeLocalStorageValue(r);const l=(()=>n.apply(this,e))(),c=(d=this._choices,h=l,null!=(p=null==(u=d.find((({choice:e})=>e===h)))?void 0:u.weight)?p:null);var d,h,u,p;const[m,_]=we(r,l,c,{value:24,unit:"hours"});return this._stickyResult=m,this._stickyWeight=_,m})};class Ae{get enabled(){return void 0!==this.experimentConfig}_isValidResult(e,t=()=>!0){return t()&&be(e)}}class xe extends Ae{_isValidResult(e){return super._isValidResult(e,(()=>this._resultValidator(e)||"control"===e))}run(){if(!this.enabled)return x.error("CLSWeightedChoiceSiteExperiment","run","() => %o","No experiment config found. Defaulting to control."),"control";if(!this._mappedChoices||0===this._mappedChoices.length)return x.error("CLSWeightedChoiceSiteExperiment","run","() => %o","No experiment variants found. Defaulting to control."),"control";const e=new ye(this._mappedChoices).get();return this._isValidResult(e)?e:(x.error("CLSWeightedChoiceSiteExperiment","run","() => %o","Invalid result from experiment choices. Defaulting to control."),"control")}constructor(...e){super(...e),this._resultValidator=()=>!0}}class Oe{getSiteExperimentByKey(e){const t=this.siteExperiments.filter((t=>t.key.toLowerCase()===e.toLowerCase()))[0],i=P("at_site_features"),n=(s=(null==t?void 0:t.variants[1])?null==t?void 0:t.variants[1].value:null==t?void 0:t.variants[0].value,o=i[e],typeof s==typeof o);var s,o;return t&&i[e]&&n&&(t.variants=[{displayName:"test",value:i[e],weight:100,id:0}]),t}constructor(e){var t,i;this.siteExperiments=[],this._clsOptions=e,this._device=k()?"mobile":"desktop",this.siteExperiments=null!=(i=null==(t=this._clsOptions.siteAds.siteExperiments)?void 0:t.filter((e=>{const t=e.key,i=V(e,this._device),n=R(this._clsOptions.siteAds,t,this._device);return i&&n})))?i:[]}}class Pe extends xe{get result(){return this._result}run(){if(!this.enabled)return x.error("CLSAdLayoutSiteExperiment","run","() => %o","No experiment config found. Defaulting to empty class name."),"";const e=new ye(this._mappedChoices).get();return this._isValidResult(e)?e:(x.error("CLSAdLayoutSiteExperiment","run","() => %o","Invalid result from experiment choices. Defaulting to empty class name."),"")}_mapChoices(){return this._choices.map((({weight:e,value:t})=>({weight:e,choice:t})))}constructor(e){super(),this._choices=[],this._mappedChoices=[],this._result="",this._resultValidator=e=>"string"==typeof e,this.key=p.AdLayout,this.abgroup=p.AdLayout,this._clsSiteExperiments=new Oe(e),this.experimentConfig=this._clsSiteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this._mapChoices(),this._result=this.run(),e.setWeightedChoiceExperiment(this.abgroup,this._result,!0))}}X([Ce(),ee("design:type",Function),ee("design:paramtypes",[]),ee("design:returntype",void 0)],Pe.prototype,"run",null);class Ee extends xe{get result(){return this._result}run(){if(!this.enabled)return x.error("CLSTargetAdDensitySiteExperiment","run","() => %o","No experiment config found. Defaulting to control."),"control";const e=new ye(this._mappedChoices).get();return this._isValidResult(e)?e:(x.error("CLSTargetAdDensitySiteExperiment","run","() => %o","Invalid result from experiment choices. Defaulting to control."),"control")}_mapChoices(){return this._choices.map((({weight:e,value:t})=>({weight:e,choice:"number"==typeof t?(t||0)/100:"control"})))}constructor(e){super(),this._choices=[],this._mappedChoices=[],this._result="control",this._resultValidator=e=>"number"==typeof e,this.key=p.AdDensity,this.abgroup=p.AdDensity,this._clsSiteExperiments=new Oe(e),this.experimentConfig=this._clsSiteExperiments.getSiteExperimentByKey(this.key),this.enabled&&this.experimentConfig&&(this._choices=this.experimentConfig.variants,this._mappedChoices=this._mapChoices(),this._result=this.run(),e.setWeightedChoiceExperiment(this.abgroup,this._result,!0))}}X([Ce(),ee("design:type",Function),ee("design:paramtypes",[]),ee("design:returntype",void 0)],Ee.prototype,"run",null);class ke extends Y{get result(){return this._result}run(){return new q(this.weight).get()}constructor(){super(),this._result=!1,this.abgroup="scae",this.key="StickyContainerAds",this._choices=[{choice:!0},{choice:!1}],this.weight=.99,this._result=this.run(),this.setExperimentKey()}}ke=X([ne("StickyContainerAdsExperiment"),ee("design:type",Function),ee("design:paramtypes",[])],ke);class De extends Y{get result(){return this._result}run(){return new q(this.weight).get()}constructor(){super(),this._result=!1,this.abgroup="scre",this.key="StickyContainerRecipe",this._choices=[{choice:!0},{choice:!1}],this.weight=.99,this._result=this.run(),this.setExperimentKey()}}De=X([ne("StickyContainerRecipeExperiment"),ee("design:type",Function),ee("design:paramtypes",[])],De);const Ie="250px";class Re{start(){try{var e,t;(e=>{const t=document.body,i=`adthrive-device-${e}`;if(!t.classList.contains(i))try{t.classList.add(i)}catch(e){x.error("BodyDeviceClassComponent","init",{message:e.message});const t="classList"in document.createElement("_");x.error("BodyDeviceClassComponent","init.support",{support:t})}})(this._device);const s=new Pe(this._clsOptions);if(s.enabled){const e=s.result,t=e.startsWith(".")?e.substring(1):e;if((e=>/^[-_a-zA-Z]+[-_a-zA-Z0-9]*$/.test(e))(t))try{document.body.classList.add(t)}catch(e){x.error("ClsDynamicAdsInjector","start",`Uncaught CSS Class error: ${e}`)}else x.error("ClsDynamicAdsInjector","start",`Invalid class name: ${t}`)}const o=de(this._device,this._clsOptions.siteAds).filter((e=>this._locationEnabled(e))).filter((e=>{return t=e,i=this._device,t.devices.includes(i);var t,i})).filter((e=>{return 0===(t=e).pageSelector.length||null!==document.querySelector(t.pageSelector);var t})),r=this.inject(o);var i,n;if(null==(t=this._clsOptions.siteAds.adOptions.stickyContainerConfig)||null==(e=t.content)?void 0:e.enabled)if(this._stickyContainerAdsExperiment.result&&!_e(this._clsOptions.siteAds.adOptions.stickyContainerConfig.blockedSelectors||[]))me(`\n  .adthrive-device-phone .adthrive-sticky-content {\n    height: 450px !important;\n    margin-bottom: 100px !important;\n  }\n  .adthrive-content.adthrive-sticky {\n    position: -webkit-sticky;\n    position: sticky !important;\n    top: 42px !important;\n    margin-top: 42px !important;\n  }\n  .adthrive-content.adthrive-sticky:after {\n    content: "— Advertisement. Scroll down to continue. —";\n    font-size: 10pt;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    display:block;\n    color: #888;\n  }\n  .adthrive-sticky-container {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    min-height:${(null==(n=this._clsOptions.siteAds.adOptions.stickyContainerConfig)||null==(i=n.content)?void 0:i.minHeight)||400}px !important;\n    margin: 10px 0 10px 0;\n    background-color: #FAFAFA;\n    padding-bottom:0px;\n  }\n  `);r.forEach((e=>this._clsOptions.setInjectedSlots(e)))}catch(e){x.error("ClsDynamicAdsInjector","start",e)}}inject(e,i=document){this._densityDevice="desktop"===this._device?m.Desktop:m.Mobile,this._overrideDefaultAdDensitySettingsWithSiteExperiment();const s=this._clsOptions.siteAds,o=n(s.adDensityEnabled,!0),r=s.adDensityLayout&&o,a=e.filter((e=>r?e.location!==t.Content:e)),l=e.filter((e=>r?e.location===t.Content:null));return[...a.length?this._injectNonDensitySlots(a,i):[],...l.length?this._injectDensitySlots(l,i):[]]}_injectNonDensitySlots(e,i=document){var n;const s=[],o=[];if(this._stickyContainerRecipeExperiment.result&&e.some((e=>e.location===t.Recipe&&e.sticky))&&!_e((null==(n=this._clsOptions.siteAds.adOptions.stickyContainerConfig)?void 0:n.blockedSelectors)||[])){var r,a;const e=this._clsOptions.siteAds.adOptions.stickyContainerConfig;(e=>{me(`\n  .adthrive-recipe.adthrive-sticky {\n    position: -webkit-sticky;\n    position: sticky !important;\n    top: 42px !important;\n    margin-top: 42px !important;\n  }\n  .adthrive-recipe-sticky-container {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    min-height:${e||400}px !important;\n    margin: 10px 0 10px 0;\n    background-color: #FAFAFA;\n    padding-bottom:0px;\n  }\n  `)})("phone"===this._device?null==e||null==(r=e.recipeMobile)?void 0:r.minHeight:null==e||null==(a=e.recipeDesktop)?void 0:a.minHeight)}for(const t of e)this._insertNonDensityAds(t,s,o,i);return o.forEach((({location:e,element:t})=>{t.style.minHeight=this.locationToMinHeight[e]})),s}_injectDensitySlots(e,t=document){try{this._calculateMainContentHeightAndAllElements(e,t)}catch(e){return[]}const{onePerViewport:i,targetAll:n,targetDensityUnits:s,combinedMax:o,numberOfUnits:r}=this._getDensitySettings(e,t);return this._absoluteMinimumSpacingByDevice=i?window.innerHeight:this._absoluteMinimumSpacingByDevice,r?(this._adInjectionMap.filterUsed(),this._findElementsForAds(r,i,n,o,s,t),this._insertAds()):[]}_overrideDefaultAdDensitySettingsWithSiteExperiment(){var e;if(null==(e=this._clsTargetAdDensitySiteExperiment)?void 0:e.enabled){const e=this._clsTargetAdDensitySiteExperiment.result;"number"==typeof e&&(this._clsOptions.siteAds.adDensityEnabled=!0,this._clsOptions.siteAds.adDensityLayout[this._densityDevice].adDensity=e)}}_getDensitySettings(e,t=document){const i=this._clsOptions.siteAds.adDensityLayout,n=this._determineOverrides(i.pageOverrides),s=n.length?n[0]:i[this._densityDevice],o=this._clsOptions.getTargetDensity(s.adDensity),r=s.onePerViewport,a=this._shouldTargetAllEligible(o),l=this._getTargetDensityUnits(o,a),c=this._getCombinedMax(e,t),d=Math.min(this._totalAvailableElements.length,l,...c>0?[c]:[]);return this._pubLog={onePerViewport:r,targetDensity:o,targetDensityUnits:l,combinedMax:c},{onePerViewport:r,targetAll:a,targetDensityUnits:l,combinedMax:c,numberOfUnits:d}}_determineOverrides(e){return e.filter((e=>{const t=T(e.pageSelector);return""===e.pageSelector||t.elements&&t.elements.length})).map((e=>e[this._densityDevice]))}_shouldTargetAllEligible(e){return e===this._densityMax}_getTargetDensityUnits(e,t){return t?this._totalAvailableElements.length:Math.floor(e*this._mainContentHeight/(1-e)/this._minDivHeight)-this._recipeCount}_getCombinedMax(e,t=document){return n(e.filter((e=>{let i;try{i=t.querySelector(e.elementSelector)}catch(e){}return i})).map((e=>Number(e.max)+Number(e.lazyMaxDefaulted?0:e.lazyMax))).sort(((e,t)=>t-e))[0],0)}_elementLargerThanMainContent(e){return e.offsetHeight>=this._mainContentHeight&&this._totalAvailableElements.length>1}_elementDisplayNone(e){const t=window.getComputedStyle(e,null).display;return t&&"none"===t||"none"===e.style.display}_isBelowMaxes(e,t){return this._adInjectionMap.map.length<e&&this._adInjectionMap.map.length<t}_findElementsForAds(e,t,i,n,s,o=document){this._clsOptions.targetDensityLog={onePerViewport:t,combinedMax:n,targetDensityUnits:s,targetDensityPercentage:this._pubLog.targetDensity,mainContentHeight:this._mainContentHeight,recipeCount:this._recipeCount,numberOfEls:this._totalAvailableElements.length};const r=e=>{for(const{dynamicAd:t,element:r}of this._totalAvailableElements)if(this._logDensityInfo(r,t.elementSelector,e),!(!i&&this._elementLargerThanMainContent(r)||this._elementDisplayNone(r))){if(!this._isBelowMaxes(n,s))break;this._checkElementSpacing({dynamicAd:t,element:r,insertEvery:e,targetAll:i,target:o})}!this._usedAbsoluteMinimum&&this._smallerIncrementAttempts<5&&(++this._smallerIncrementAttempts,r(this._getSmallerIncrement(e)))},a=this._getInsertEvery(e,t,s);r(a)}_getSmallerIncrement(e){let t=.6*e;return t<=this._absoluteMinimumSpacingByDevice&&(t=this._absoluteMinimumSpacingByDevice,this._usedAbsoluteMinimum=!0),t}_insertNonDensityAds(e,i,n,s=document){let o=0,r=0,a=0;e.spacing>0&&(o=window.innerHeight*e.spacing,r=o);const l=this._repeatDynamicAds(e),c=this.getElements(e.elementSelector,s);e.skip;for(let d=e.skip;d<c.length&&!(a+1>l.length);d+=e.every){let h=c[d];if(o>0){const{bottom:e}=O(h);if(e<=r)continue;r=e+o}const u=l[a],p=`${u.location}_${u.sequence}`;i.some((e=>e.name===p))&&(a+=1);const m=this.getDynamicElementId(u),_=ue(e),g=pe(e),y=[e.location===t.Sidebar&&e.sticky&&e.sequence&&e.sequence<=5?"adthrive-sticky-sidebar":"",this._stickyContainerRecipeExperiment.result&&e.location===t.Recipe&&e.sticky?"adthrive-recipe-sticky-container":"",_,g,...e.classNames],f=this.addAd(h,m,e.position,y);if(f){const o=he(u,f);if(o.length){const r={clsDynamicAd:e,dynamicAd:u,element:f,sizes:o,name:p,infinite:s!==document};i.push(r),n.push({location:u.location,element:f}),e.location===t.Recipe&&++this._recipeCount,a+=1}h=f}}}_insertAds(){const e=[];return this._adInjectionMap.filterUsed(),this._adInjectionMap.map.forEach((({el:t,dynamicAd:i,target:n},s)=>{const o=Number(i.sequence)+s,r=i.max,a=i.lazy&&o>r;i.sequence=o,i.lazy=a;const l=this._addContentAd(t,i,n);l&&(i.used=!0,e.push(l))})),e}_getInsertEvery(e,t,i){let n=this._absoluteMinimumSpacingByDevice;return this._moreAvailableElementsThanUnitsToInject(i,e)?(this._usedAbsoluteMinimum=!1,n=this._useWiderSpacing(i,e)):(this._usedAbsoluteMinimum=!0,n=this._useSmallestSpacing(t)),t&&window.innerHeight>n?window.innerHeight:n}_useWiderSpacing(e,t){return this._mainContentHeight/Math.min(e,t)}_useSmallestSpacing(e){return e&&window.innerHeight>this._absoluteMinimumSpacingByDevice?window.innerHeight:this._absoluteMinimumSpacingByDevice}_moreAvailableElementsThanUnitsToInject(e,t){return this._totalAvailableElements.length>e||this._totalAvailableElements.length>t}_logDensityInfo(e,t,i){const{onePerViewport:n,targetDensity:s,targetDensityUnits:o,combinedMax:r}=this._pubLog;this._totalAvailableElements.length}_checkElementSpacing({dynamicAd:e,element:t,insertEvery:i,targetAll:n,target:o=document}){(this._isFirstAdInjected()||this._hasProperSpacing(t,e,n,i))&&this._markSpotForContentAd(t,s({},e),o)}_isFirstAdInjected(){return!this._adInjectionMap.map.length}_markSpotForContentAd(e,t,i=document){const n="beforebegin"===t.position||"afterbegin"===t.position;this._adInjectionMap.add(e,this._getElementCoords(e,n),t,i),this._adInjectionMap.sort()}_hasProperSpacing(e,i,n,s){const o="beforebegin"===i.position||"afterbegin"===i.position,r="beforeend"===i.position||"afterbegin"===i.position,a=n||this._isElementFarEnoughFromOtherAdElements(e,s,o),l=r||this._isElementNotInRow(e,o),c=-1===e.id.indexOf(`AdThrive_${t.Below_Post}`);return a&&l&&c}_isElementFarEnoughFromOtherAdElements(e,t,i){const n=this._getElementCoords(e,i);let s=!1;for(let e=0;e<this._adInjectionMap.map.length;e++){const i=this._adInjectionMap.map[e].coords,o=this._adInjectionMap.map[e+1]&&this._adInjectionMap.map[e+1].coords;if(s=n-t>i&&(!o||n+t<o),s)break}return s}_isElementNotInRow(e,t){const i=e.previousElementSibling,n=e.nextElementSibling,s=t?!i&&n||i&&e.tagName!==i.tagName?n:i:n;return!(!s||0!==e.getBoundingClientRect().height)||(!s||e.getBoundingClientRect().top!==s.getBoundingClientRect().top)}_calculateMainContentHeightAndAllElements(e,t=document){const[i,n]=((e,t,i=document)=>{const[n,s]=D(e,t,i);if(0===n.length)throw Error("No Main Content Elements Found");return[Array.from(n).reduce(((e,t)=>t.offsetHeight>e.offsetHeight?t:e))||document.body,s]})(e,this._adInjectionMap,t);this._mainContentDiv=i,this._totalAvailableElements=n,this._mainContentHeight=((e,t="div #comments, section .comments")=>{const i=e.querySelector(t);return i?e.offsetHeight-i.offsetHeight:e.offsetHeight})(this._mainContentDiv)}_getElementCoords(e,t=!1){const i=e.getBoundingClientRect();return(t?i.top:i.bottom)+window.scrollY}_addContentAd(e,t,i=document){var n,s;let o=null;const r=ue(t),a=pe(t),l=(null==(s=this._clsOptions.siteAds.adOptions.stickyContainerConfig)||null==(n=s.content)?void 0:n.enabled)&&this._stickyContainerAdsExperiment.result?"adthrive-sticky-container":"",c=this.addAd(e,this.getDynamicElementId(t),t.position,[l,r,a,...t.classNames]);if(c){const e=he(t,c);if(e.length){c.style.minHeight=this.locationToMinHeight[t.location];o={clsDynamicAd:t,dynamicAd:t,element:c,sizes:e,name:`${t.location}_${t.sequence}`,infinite:i!==document}}}return o}getDynamicElementId(e){return`AdThrive_${e.location}_${e.sequence}_${this._device}`}getElements(e,t=document){return t.querySelectorAll(e)}addAd(e,t,i,n=[]){if(!document.getElementById(t)){const s=`<div id="${t}" class="adthrive-ad ${n.join(" ")}"></div>`;e.insertAdjacentHTML(i,s)}return document.getElementById(t)}_repeatDynamicAds(e){const i=[],o=this._removeRecipeCapExperiment.result&&e.location===t.Recipe?99:this.locationMaxLazySequence.get(e.location),r=e.lazy?n(o,0):0,a=e.max,l=e.lazyMax,c=0===r&&e.lazy?a+l:Math.min(Math.max(r-e.sequence+1,0),a+l),d=Math.max(a,c);for(let t=0;t<d;t++){const n=Number(e.sequence)+t;if("Recipe_1"!==e.name||5!==n){const o=e.lazy&&t>=a;i.push(s({},e,{sequence:n,lazy:o}))}}return i}_locationEnabled(e){const t=this._clsOptions.enabledLocations.includes(e.location),i=this._clsOptions.disableAds&&this._clsOptions.disableAds.all||document.body.classList.contains("adthrive-disable-all"),n=!document.body.classList.contains("adthrive-disable-content")&&!this._clsOptions.disableAds.reasons.has("content_plugin");return t&&!i&&n}constructor(e,n){this._clsOptions=e,this._adInjectionMap=n,this._recipeCount=0,this._mainContentHeight=0,this._mainContentDiv=null,this._totalAvailableElements=[],this._minDivHeight=250,this._densityDevice=m.Desktop,this._pubLog={onePerViewport:!1,targetDensity:0,targetDensityUnits:0,combinedMax:0},this._densityMax=.99,this._smallerIncrementAttempts=0,this._absoluteMinimumSpacingByDevice=250,this._usedAbsoluteMinimum=!1,this._infPageEndOffset=0,this.locationMaxLazySequence=new Map([[t.Recipe,5]]),this.locationToMinHeight={Below_Post:Ie,Content:Ie,Recipe:Ie,Sidebar:Ie};const{tablet:s,desktop:o}=this._clsOptions.siteAds.breakpoints;this._device=((e,t)=>{const i=window.innerWidth;return i>=t?"desktop":i>=e?"tablet":"phone"})(s,o),this._config=new i(e),this._clsOptions.enabledLocations=this._config.enabledLocations,this._clsTargetAdDensitySiteExperiment=this._clsOptions.siteAds.siteExperiments?new Ee(this._clsOptions):null,this._stickyContainerAdsExperiment=new ke,this._stickyContainerRecipeExperiment=new De,this._removeRecipeCapExperiment=new ge}}class Me{add(e,t,i,n=document){this._map.push({el:e,coords:t,dynamicAd:i,target:n})}get map(){return this._map}sort(){this._map.sort((({coords:e},{coords:t})=>e-t))}filterUsed(){this._map=this._map.filter((({dynamicAd:e})=>!e.used))}reset(){this._map=[]}constructor(){this._map=[]}}class Le extends Me{}function Te(e,t){if(null==e)return{};var i,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}class Ve{get enabled(){return!0}}class je extends Ve{setPotentialPlayersMap(){const e=this._videoConfig.players||[],t=this._filterPlayerMap(),i=e.filter((e=>"stationaryRelated"===e.type&&e.enabled));return t.stationaryRelated=i,this._potentialPlayerMap=t,this._potentialPlayerMap}_filterPlayerMap(){const e=this._videoConfig.players,t={stickyRelated:[],stickyPlaylist:[],stationaryRelated:[]};return e&&e.length?e.filter((e=>{var t;return null==(t=e.devices)?void 0:t.includes(this._device)})).reduce(((e,t)=>(e[t.type]||(x.event(this._component,"constructor","Unknown Video Player Type detected",t.type),e[t.type]=[]),t.enabled&&e[t.type].push(t),e)),t):t}_checkPlayerSelectorOnPage(e){const t=this._potentialPlayerMap[e].map((e=>({player:e,playerElement:this._getPlacementElement(e)})));return t.length?t[0]:{player:null,playerElement:null}}_getOverrideElement(e,t,i){if(e&&t){const n=document.createElement("div");t.insertAdjacentElement(e.position,n),i=n}else{const{player:e,playerElement:t}=this._checkPlayerSelectorOnPage("stickyPlaylist");if(e&&t){const n=document.createElement("div");t.insertAdjacentElement(e.position,n),i=n}}return i}_shouldOverrideElement(e){const t=e.getAttribute("override-embed");return"true"===t||"false"===t?"true"===t:!!this._videoConfig.relatedSettings&&this._videoConfig.relatedSettings.overrideEmbedLocation}_checkPageSelector(e,t,i=[]){if(e&&t&&0===i.length){return!("/"===window.location.pathname)&&x.event("VideoUtils","getPlacementElement",new Error(`PSNF: ${e} does not exist on the page`)),!1}return!0}_getElementSelector(e,t,i){return t&&t.length>i?t[i]:(x.event("VideoUtils","getPlacementElement",new Error(`ESNF: ${e} does not exist on the page`)),null)}_getPlacementElement(e){const{pageSelector:t,elementSelector:i,skip:n}=e,s=T(t),{valid:o,elements:r}=s,a=Te(s,["valid","elements"]),l=L(i),{valid:c,elements:d}=l,h=Te(l,["valid","elements"]);if(""!==t&&!o)return x.error("VideoUtils","getPlacementElement",new Error(`${t} is not a valid selector`),a),null;if(!c)return x.error("VideoUtils","getPlacementElement",new Error(`${i} is not a valid selector`),h),null;if(!this._checkPageSelector(t,o,r))return null;return this._getElementSelector(i,d,n)||null}_getEmbeddedPlayerType(e){let t=e.getAttribute("data-player-type");return t&&"default"!==t||(t=this._videoConfig.relatedSettings?this._videoConfig.relatedSettings.defaultPlayerType:"static"),this._stickyRelatedOnPage&&(t="static"),t}_getMediaId(e){const t=e.getAttribute("data-video-id");return!!t&&(this._relatedMediaIds.push(t),t)}_createRelatedPlayer(e,t,i,n){"collapse"===t?this._createCollapsePlayer(e,i):"static"===t&&this._createStaticPlayer(e,i,n)}_createCollapsePlayer(e,t){const{player:i,playerElement:n}=this._checkPlayerSelectorOnPage("stickyRelated"),o=i||this._potentialPlayerMap.stationaryRelated[0];if(o&&o.playerId){this._shouldOverrideElement(t)&&(t=this._getOverrideElement(i,n,t)),t=document.querySelector(`#cls-video-container-${e} > div`)||t,this._createStickyRelatedPlayer(s({},o,{mediaId:e}),t)}else x.error(this._component,"_createCollapsePlayer","No video player found")}_createStaticPlayer(e,t,i){if(this._potentialPlayerMap.stationaryRelated.length&&this._potentialPlayerMap.stationaryRelated[0].playerId){const n=this._potentialPlayerMap.stationaryRelated[0];this._createStationaryRelatedPlayer(s({},n,{mediaOrPlaylistId:e}),t,i)}else x.error(this._component,"_createStaticPlayer","No video player found")}_shouldRunAutoplayPlayers(){return!(!this._isVideoAllowedOnPage()||!this._potentialPlayerMap.stickyRelated.length&&!this._potentialPlayerMap.stickyPlaylist.length)}_determineAutoplayPlayers(){const e=this._component,t="VideoManagerComponent"===e,i=this._context;if(this._stickyRelatedOnPage)return void x.event(e,"stickyRelatedOnPage",t&&{device:i&&i.device,isDesktop:this._device}||{});const{player:n,playerElement:s}=this._checkPlayerSelectorOnPage("stickyPlaylist");n&&n.playerId&&n.playlistId&&s?this._createPlaylistPlayer(n,s):Math.random()<.01&&setTimeout((()=>{x.event(e,"noStickyPlaylist",t&&{vendor:"none",device:i&&i.device,isDesktop:this._device}||{})}),1e3)}_initializeRelatedPlayers(e){const t=new Map;for(let i=0;i<e.length;i++){const n=e[i],s=n.offsetParent,o=this._getEmbeddedPlayerType(n),r=this._getMediaId(n);if(s&&r){const e=(t.get(r)||0)+1;t.set(r,e),this._createRelatedPlayer(r,o,n,e)}}}constructor(e,t,i){super(),this._videoConfig=e,this._component=t,this._context=i,this._stickyRelatedOnPage=!1,this._relatedMediaIds=[],this._device=E()?"desktop":"mobile",this._potentialPlayerMap=this.setPotentialPlayersMap()}}class Ne extends je{init(){this._initializePlayers()}_wrapVideoPlayerWithCLS(e,t,i=0){if(e.parentNode){const n=e.offsetWidth*(9/16),s=this._createGenericCLSWrapper(n,t,i);return e.parentNode.insertBefore(s,e),s.appendChild(e),s}return null}_createGenericCLSWrapper(e,t,i){const n=document.createElement("div");return n.id=`cls-video-container-${t}`,n.className="adthrive",n.style.minHeight=`${e+i}px`,n}_getTitleHeight(){const e=document.createElement("h3");e.style.margin="10px 0",e.innerText="Title",e.style.visibility="hidden",document.body.appendChild(e);const t=window.getComputedStyle(e),i=parseInt(t.height,10),n=parseInt(t.marginTop,10),s=parseInt(t.marginBottom,10);return document.body.removeChild(e),Math.min(i+s+n,50)}_initializePlayers(){const e=document.querySelectorAll(this._IN_POST_SELECTOR);e.length&&this._initializeRelatedPlayers(e),this._shouldRunAutoplayPlayers()&&this._determineAutoplayPlayers()}_createStationaryRelatedPlayer(e,t,i){const n="mobile"===this._device?[400,225]:[640,360],s=_.Video_In_Post_ClicktoPlay_SoundOn;if(t&&e.mediaOrPlaylistId){const o=`${e.mediaOrPlaylistId}_${i}`,r=this._wrapVideoPlayerWithCLS(t,o);this._playersAddedFromPlugin.push(e.mediaOrPlaylistId),r&&this._clsOptions.setInjectedVideoSlots({playerId:e.playerId,playerName:s,playerSize:n,element:r,type:"stationaryRelated"})}}_createStickyRelatedPlayer(e,t){const i="mobile"===this._device?[400,225]:[640,360],n=_.Video_Individual_Autoplay_SOff;if(this._stickyRelatedOnPage=!0,this._videoConfig.mobileStickyPlayerOnPage="mobile"===this._device,t&&e.position&&e.mediaId){const s=document.createElement("div");t.insertAdjacentElement(e.position,s);const o=this._getTitleHeight(),r=this._wrapVideoPlayerWithCLS(s,e.mediaId,this._WRAPPER_BAR_HEIGHT+o);this._playersAddedFromPlugin.push(e.mediaId),r&&this._clsOptions.setInjectedVideoSlots({playlistId:e.playlistId,playerId:e.playerId,playerSize:i,playerName:n,element:s,type:"stickyRelated"})}}_createPlaylistPlayer(e,t){const i=e.playlistId,n="mobile"===this._device?_.Video_Coll_SOff_Smartphone:_.Video_Collapse_Autoplay_SoundOff,s="mobile"===this._device?[400,225]:[640,360];this._videoConfig.mobileStickyPlayerOnPage=!0;const o=document.createElement("div");t.insertAdjacentElement(e.position,o);let r=this._WRAPPER_BAR_HEIGHT;e.title&&(r+=this._getTitleHeight());const a=this._wrapVideoPlayerWithCLS(o,i,r);this._playersAddedFromPlugin.push(`playlist-${i}`),a&&this._clsOptions.setInjectedVideoSlots({playlistId:e.playlistId,playerId:e.playerId,playerSize:s,playerName:n,element:o,type:"stickyPlaylist"})}_isVideoAllowedOnPage(){const e=this._clsOptions.disableAds;if(e&&e.video){let t="";e.reasons.has("video_tag")?t="video tag":e.reasons.has("video_plugin")?t="video plugin":e.reasons.has("video_page")&&(t="command queue");const i=t?"ClsVideoInsertionMigrated":"ClsVideoInsertion";return x.error(i,"isVideoAllowedOnPage",new Error(`DBP: Disabled by publisher via ${t||"other"}`)),!1}return!this._clsOptions.videoDisabledFromPlugin}constructor(e,t){super(e,"ClsVideoInsertion"),this._videoConfig=e,this._clsOptions=t,this._IN_POST_SELECTOR=".adthrive-video-player",this._WRAPPER_BAR_HEIGHT=36,this._playersAddedFromPlugin=[],t.removeVideoTitleWrapper&&(this._WRAPPER_BAR_HEIGHT=0)}}const He=()=>{var e,t,i;return(e="generator",(null!=(i=null==(t=document.querySelector(`meta[name=${e}]`))?void 0:t.content)?i:null)||"").includes("Wix")||!!window.wixPerformanceMeasurements||!!window["wix-perf-measure"]||!!window.wixDevelopersAnalytics};class Fe{start(){window.requestAnimationFrame&&this._adthrive&&this._adthrive.siteAds&&this._adthrive.siteAds.adOptions&&this._adthrive.siteAds.adOptions.clsOptimizedAds&&!He()&&(this._clsOptions.disableAds=new B(window.adthrive),this._result&&(this._animationRequestId=window.requestAnimationFrame(this.addClsInsertion.bind(this))))}addClsInsertion(){document.body?(this._clsOptions.injectedFromSiteAds=!0,this._clsOptions.videoDisabledFromPlugin=!!document.body.classList.contains("adthrive-disable-video"),me(".adthrive-ad{margin-top:10px;margin-bottom:10px;text-align:center;overflow-x:visible;clear:both;line-height:0}"),this.startClsInsertion()):"complete"===document.readyState||this._clsOptions.injectedFromSiteAds?window.cancelAnimationFrame(this._animationRequestId):this._animationRequestId=window.requestAnimationFrame(this.addClsInsertion.bind(this))}startClsInsertion(){if(!this._clsOptions.injectedSlots.some((e=>this._clsOptions.enabledLocations.includes(e.dynamicAd.location)))){new Re(this._clsOptions,new Le).start()}new Ne(new G(this._clsOptions),this._clsOptions).init()}constructor(e){this._clsOptions=e,this._expKey="clsins_ss",this._animationRequestId=0,this._adthrive=window.adthrive,this._clsOptions.siteAds=this._adthrive&&this._adthrive.siteAds||{},this._result=!0,this._clsOptions.setExperiment(this._expKey,this._result),this._config=new i(e),this._clsOptions.enabledLocations=this._config.enabledLocations}}try{(()=>{let e=new J;if(e.enabled&&e.injectedFromPlugin)return;e.error||(window.adthriveCLS={injectedFromPlugin:!1,injectedSlots:[],experiments:{},siteExperiments:{},injectedVideoSlots:[]},e=new J,new Fe(e).start())})()}catch(e){x.error("CLS","siteinsertion-iife",e),window.adthriveCLS&&(window.adthriveCLS.injectedFromSiteAds=!1)}return e.ClsSiteInsertion=Fe,e}({});

    
      //esVersionDetection
      function supports(exp) {
          try {
              new Function(exp)();
          } catch (e) {
              return false;
          }
          return true;
      }
      function isUserAgentInvalid() {
          return new RegExp('googleweblight|spider|crawler|curl|wget|ia_archiver|insights|baidu|bot|monitor|scraper|A6-Indexer|addthis|admantx|agentslug|alexa|anderspink|apache-httpclient|apachebench|apis-google|appengine-google|ask jeeves|asynchttpclient|awe.sm|baidu|barkrowler|biglotron|bingpreview|brandverify|bubing|butterfly|buzztalk|cf-uc|check_http|cloudflare|cmradar/0.1|coldfusion|comodo ssl checker|convera|copypants|crowsnest|curl|dap\/nethttp|daumoa|developers.google.com\/+\/web\/snippet\/|digitalpersona fingerprint software|drupact|duckduck|elb-healthchecker|embedly|eoaagent|europarchive|eventmachine httpclient|evrinid|exaleadcloudview|ezooms|ez publish|facebookexternalhit|feedburner|feedfetcher-google|findlink|findthatfile|flipboardproxy|garlik|genieo|getprismatic.com|ghost|gigablast|go http package|google( page speed insights| web preview|google-site-verification|-structured-data-testing-tool|-structureddatatestingtool)|hatena|headless|heritrix|htmlparser|http(_request2|client|s|unit)|httrack|hubspot|ichiro|icoreservice|idmarch|in(agist|sieve|stapaper)|ips-agent|jack|jakarta commons|java|jetslide|jobseeker|js-kit|kimengi|knows.is|kraken|laconica|libwww|lighthouse|linode|lipperhey|longurl|ltx71|lwp-trivial|mappydata|mastodon|mediapartners-google|megaindex.ru|metauri|mfe_expand|mixnode|mon(tastic|tools)|moreover|mrchrome|nberta|net(craft|researchserver|state|vibes)|newrelicpinger|newspaper|newsme|ning|nmap|nutch|online-domain-tools|paessler|page(peek|sinventory|thing)|panopta|peerindex|phantomjs|pingdom|plukkie|proximic|pu_in|publiclibraryarchive.org|python-(httplib2|requests|urllib)|quanti|queryseeker|quicklook|qwanti|re-animator|readability|rebelmouse|relateiq|riddler|rssmicro|ruby|scrapy|seo-audit|seodiver|seokicks|shopwiki|shortlinktranslate|siege|sistrix|site24x7|siteexplorer|skypeuripreview|slack|slurp|socialrank|sogou|spinn3r|squider|statuscake|stripe|summify|teeraid|teoma|test certificate info|tineye|traackr|tweetedtimes|twikle|twitjobsearch|twitmunin|twurly|typhoeus|unwindfetch|uptim(e|ia)|uptm.io|vagabondo|vb project|vigil|vkshare|wappalyzer|watchsumo|webceo|webdatascout|webmon|webscout|wesee|wget|whatsapp|whatweb|wikido|wordpress|wormly|wotbox|xenu link sleuth|xing-contenttabreceiver|yandex|yanga|yeti|yff35|yourls|zelist.ro|zibb|^Mozilla\/5\.0$|Viv\/2', 'i')
          .test(window.navigator.userAgent);
      }

      var supportsIO = 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype && 'isIntersecting' in window.IntersectionObserverEntry.prototype;

      var target = 'es5'
      if (supportsIO && supports('async () => Promise.resolve(({ ...{} })).finally(() => Symbol.asyncIterator)')) {
        target = 'es2018';
      }

      var invalid = isUserAgentInvalid() ? 'invalid-ua' : '';

      if(invalid === '') {
        w.adthrive.targetPath = '/' + target;
      }

      w.adthrive.cmd.push(function () {
        w.adthrive.setTargetingFlag('target', ([target, invalid]).filter(function (k) { return k != ''; }));
      });
    
      //getMarmaladeData
      w.adthrive.marmaladeFinished = function() {};
      var page = encodeURIComponent(location.href);
      var campaignsUrl = 'https://' + w.adthrive.host + '/api/v1/marmalade?siteid=630428a76245162875c78210&url=' + page + '&deliveryFeatures=amazonBetaApstag,consentManagerCMP,optimalBidders,raptiveFloors,raptiveManualCookieSync,recencyFrequency,reissuingSticky,stickyBucketsLocalStorage,switzerlandGdpr,prebidLoad,gptLoad,amazonLoad,ttdSync,optableLoad';
      if (w.fetch) {
        fetch(campaignsUrl)
          .then(function(response) {
            w.adthrive.marmalade = response.json();
            w.adthrive.marmalade.then(function(data) {
              w.adthrive.marmaladeFinished(data);
            });
          })
          .catch(function(error) {
            w.adthrive.cmd.push(function () {
              w.adthrive.logError('ads-site-origin-request', 'insertMarmaladeCode', ['Unable to get marmalade data', error]);
            });
          });
      } else {
          var xhrMarmalade = new XMLHttpRequest();
          xhrMarmalade.onload = function() {
              if (xhrMarmalade.status === 200) {
                  w.adthrive.marmalade = xhrMarmalade.response;
                  w.adthrive.marmaladeFinished(w.adthrive.marmalade);
              }
          };
          xhrMarmalade.open('GET', campaignsUrl, true);
          xhrMarmalade.responseType = 'json';
          xhrMarmalade.send();
      }
    
      if (!w.apstag) {
        //Amazon Load
        importScript('https://c.aps.amazon-adsystem.com/apstag.js');
        var q = function (c, r) {
            var date = new Date().getTime();
            var queueContents = queueContents = [c, r, date];
            w.apstag.queue.push(queueContents);
        };
        w.apstag = {
            init: function () {
                q('i', arguments);
            },
            fetchBids: function () {
                q('f', arguments);
            },
            setDisplayBids: function () {
                return;
            },
            targetingKeys: function () {
                return [];
            },
            dpa: function() {
                q('di', arguments);
            },
            rpa: function() {
                q('ri', arguments);
            },
            upa: function() {
                q('ui', arguments);
            },
            queue: [],
            customPlacements: function() { return {}; },
        };
      }

      //GPT Load
      importScript('https://securepubads.g.doubleclick.net/tag/js/gpt.js');
      w.googletag = w.googletag || {};
      w.googletag.cmd = w.googletag.cmd || [];

      //Prebid Load
      importScript(w.adthrive.baseUrl + '/gdpr/vendor/prebid' + w.adthrive.targetPath + '/prebid.min.js');
      w.pbjs = w.pbjs || {};
      w.pbjs.que = w.pbjs.que || [];

      w.optable = window.optable || { cmd: [] };
      w.optable.site = 's-630428a76245162875c78210';
      w.optable.auth = window.optable.auth || {};
      w.optable.auth.site = 's-630428a76245162875c78210';

      var optableScript = document.createElement('script');
      optableScript.type = 'text/javascript';
      optableScript.src = 'https://raptive.solutions.cdn.optable.co/public-assets/raptive-sdk.js';

      optableScript.addEventListener('error', function() {
        w.adthrive.cmd.push(function () {
          w.adthrive.logError('ads-site-origin-request', 'getOptableScript', ['Failed to import Optable SDK script']);
        });
      });

      optableScript.addEventListener('load', function() {
        w.adthrive.cmd.push(function () {
          w.adthrive.log = w.adthrive.log || console.log;
          w.adthrive.log('log', 'ads-site-origin-request', 'getOptableScript', ['Optable SDK script loaded']);
        });
      });

      document.head.appendChild(optableScript);
  
    
    // Raptive floors
    w.adthrive.raptiveFloorsFinished = function() {};
    var floorsUrl = 'https://' + w.adthrive.host + '/api/v2/raptiveFloors/630428a76245162875c78210';
    var xhrFloors = new XMLHttpRequest();
    xhrFloors.onload = function() {
      var status = xhrFloors.status;
      if (status === 200) {
        w.adthrive.raptiveFloors = xhrFloors.response;
        w.adthrive.raptiveFloorsFinished(w.adthrive.raptiveFloors);
      } else {
        w.adthrive.cmd.push(function () {
          w.adthrive.log = w.adthrive.log || console.log;
          w.adthrive.log('log', 'ads-site-origin-request', 'insertRaptiveFloorsCode', ['Unable to get floor data', status]);
        });
      }
    };
    xhrFloors.open('GET', floorsUrl, true);
    xhrFloors.responseType = 'json';
    xhrFloors.send();
  
    
      // Optimal Bidders
      w.adthrive.optimalBiddersFinished = function() {};
      var bandwidth = '?bw=';
      var hour = '&h=' + new Date().getHours();
      var connection = window.navigator && (window.navigator.connection || window.navigator.mozConnection || window.navigator.webkitConnection);
      if (connection) {
        var downlink = connection.downlink || connection.bandwidth;
        if (downlink) bandwidth += downlink;
      }
      var optimalBiddersEndpoint = 'https://' + w.adthrive.host + '/api/v2/optimalBidders/630428a76245162875c78210'+ bandwidth + hour;
      var xhrOptimalBidders = new XMLHttpRequest();
      xhrOptimalBidders.onload = function() {
        var status = xhrOptimalBidders.status;
        if (status === 200) {
          w.adthrive.optimalBidders = xhrOptimalBidders.response;
          w.adthrive.optimalBiddersFinished(w.adthrive.optimalBidders);
        } else {
          w.adthrive.cmd.push(function () {
            w.adthrive.log = w.adthrive.log || console.log;
            w.adthrive.log('log', 'ads-site-origin-request', 'insertOptimalBiddersCode', ['Unable to get optimal bidders data', status]);
          });
        }
      };
      xhrOptimalBidders.open('GET', optimalBiddersEndpoint, true);
      xhrOptimalBidders.responseType = 'json';
      xhrOptimalBidders.send();
  
    
  importScript(
    w.adthrive.baseUrl +
    w.adthrive.targetPath +
    '/js/adthrive.min.js' +
    '?deployment=' + w.adthrive.deployment +
    '&bucket='+ w.adthrive.bucket +
    '&deliveryFeatures=amazonBetaApstag,consentManagerCMP,optimalBidders,raptiveFloors,raptiveManualCookieSync,recencyFrequency,reissuingSticky,stickyBucketsLocalStorage,switzerlandGdpr,prebidLoad,gptLoad,amazonLoad,ttdSync,optableLoad' +
    '&siteid=630428a76245162875c78210' +
    '', false
  );
  
    
})(window, document);